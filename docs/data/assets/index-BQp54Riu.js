import{r as n,z as q,A as G,D as J,M as O,K as Q,H as y,at as W,av as Z,U as ee}from"./index-DzaOA67_.js";import{K as te}from"./fileValidation-AnOVqnKf.js";const ne=t=>{const{value:e,formatter:o,precision:s,decimalSeparator:l,groupSeparator:f="",prefixCls:m}=t;let r;if(typeof o=="function")r=o(e);else{const a=String(e),u=a.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||a==="-")r=a;else{const S=u[1];let d=u[2]||"0",i=u[4]||"";d=d.replace(/\B(?=(\d{3})+(?!\d))/g,f),typeof s=="number"&&(i=i.padEnd(s,"0").slice(0,s>0?s:0)),i&&(i=`${l}${i}`),r=[n.createElement("span",{key:"int",className:`${m}-content-value-int`},S,d),i&&n.createElement("span",{key:"decimal",className:`${m}-content-value-decimal`},i)]}}return n.createElement("span",{className:`${m}-content-value`},r)},se=t=>{const{componentCls:e,marginXXS:o,padding:s,colorTextDescription:l,titleFontSize:f,colorTextHeading:m,contentFontSize:r,fontFamily:a}=t;return{[e]:{...J(t),[`${e}-header`]:{paddingBottom:o,[`${e}-title`]:{color:l,fontSize:f}},[`${e}-skeleton`]:{paddingTop:s},[`${e}-content`]:{color:m,fontSize:r,fontFamily:a,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:o},[`${e}-content-suffix`]:{marginInlineStart:o}}}}},ae=t=>{const{fontSizeHeading3:e,fontSize:o}=t;return{titleFontSize:o,contentFontSize:e}},oe=q("Statistic",t=>{const e=G(t,{});return se(e)},ae),C=n.forwardRef((t,e)=>{const{prefixCls:o,className:s,rootClassName:l,style:f,valueStyle:m,value:r=0,title:a,valueRender:u,prefix:S,suffix:d,loading:i=!1,formatter:c,precision:x,decimalSeparator:g=".",groupSeparator:E=",",onMouseEnter:h,onMouseLeave:k,styles:z,classNames:D,...I}=t,{getPrefixCls:R,direction:H,className:M,style:P,classNames:b,styles:A}=O("statistic"),p=R("statistic",o),[F,L]=oe(p),U={...t,decimalSeparator:g,groupSeparator:E,loading:i,value:r},[v,N]=Q([b,D],[A,z],{props:U}),$=n.createElement(ne,{decimalSeparator:g,groupSeparator:E,prefixCls:p,formatter:c,precision:x,value:r}),B=y(p,{[`${p}-rtl`]:H==="rtl"},M,s,l,v.root,F,L),K=y(`${p}-header`,v.header),V=y(`${p}-title`,v.title),X=y(`${p}-content`,v.content),Y=y(`${p}-content-prefix`,v.prefix),_=y(`${p}-content-suffix`,v.suffix),w=n.useRef(null);n.useImperativeHandle(e,()=>({nativeElement:w.current}));const j=W(I,{aria:!0,data:!0});return n.createElement("div",{...j,className:B,style:{...N.root,...P,...f},ref:w,onMouseEnter:h,onMouseLeave:k},a&&n.createElement("div",{className:K,style:N.header},n.createElement("div",{className:V,style:N.title},a)),n.createElement(te,{paragraph:!1,loading:i,className:`${p}-skeleton`,active:!0},n.createElement("div",{className:X,style:{...m,...N.content}},S&&n.createElement("span",{className:Y,style:N.prefix},S),u?u($):$,d&&n.createElement("span",{className:_,style:N.suffix},d))))}),re=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function ce(t,e){let o=t;const s=/\[[^\]]*]/g,l=(e.match(s)||[]).map(a=>a.slice(1,-1)),f=e.replace(s,"[]"),m=re.reduce((a,[u,S])=>{if(a.includes(u)){const d=Math.floor(o/S);return o-=d*S,a.replace(new RegExp(`${u}+`,"g"),i=>{const c=i.length;return d.toString().padStart(c,"0")})}return a},f);let r=0;return m.replace(s,()=>{const a=l[r];return r+=1,a})}function le(t,e,o){const{format:s=""}=e,l=new Date(t).getTime(),f=Date.now(),m=Math.max(o?l-f:f-l,0);return ce(m,s)}const ie=1e3/60;function me(t){return new Date(t).getTime()}const T=t=>{const{value:e,format:o="HH:mm:ss",onChange:s,onFinish:l,type:f,...m}=t,r=f==="countdown",[a,u]=n.useState(null),S=Z(()=>{const c=Date.now(),x=me(e);u({});const g=r?x-c:c-x;return s==null||s(g),r&&x<c?(l==null||l(),!1):!0});n.useEffect(()=>{let c;const x=()=>{S()||window.clearInterval(c)},g=()=>{c=window.setInterval(x,ie)},E=()=>{window.clearInterval(c)};return g(),()=>{E()}},[e,r]),n.useEffect(()=>{u({})},[]);const d=(c,x)=>a?le(c,{...x,format:o},r):"-",i=c=>ee(c,{title:void 0});return n.createElement(C,{...m,value:e,valueRender:i,formatter:d})},ue=t=>n.createElement(T,{...t,type:"countdown"}),fe=n.memo(ue);C.Timer=T;C.Countdown=fe;export{C as S};
