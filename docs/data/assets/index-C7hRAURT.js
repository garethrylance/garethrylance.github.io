import{r,l as G,bq as Mt,B as me,Z as We,y,aD as Rt,H as B,at as je,a7 as De,af as Tt,br as Ee,V as Se,bs as It,bh as Nt,av as Ot,X as pe,bt as Le,bu as zt,z as Ht,C as Ft,a4 as S,A as Wt,aM as jt,D as Dt,bv as Lt,M as Ae,J as ne,aK as Ve,ax as At,aJ as Vt,K as qt,aF as Gt,aP as Xt,Q as ee,b7 as _t,aH as Kt,bn as qe,aN as Qt,bw as Ut,W as Zt,ai as Yt,aj as Jt,bx as kt,by as en,bz as tn,Y as nn}from"./index-DzaOA67_.js";import{b as Ge,Q as on,U as rn,V as we,K as an,W as sn,X as ln}from"./fileValidation-AnOVqnKf.js";const Be=e=>e&&typeof e=="object"?e:typeof e=="boolean"?{enabled:e,blur:e}:{},cn=(e,t,n)=>r.useMemo(()=>{const o=Be(e),s={...Be(t),...o},i=s.blur!==!1?`${n}-mask-blur`:void 0;return[s.enabled!==!1,{mask:i}]},[e,t,n]),un=()=>{const[e,t]=r.useState([]),n=r.useCallback(o=>(t(l=>[].concat(G(l),[o])),()=>{t(l=>l.filter(s=>s!==o))}),[]);return[e,n]},ie=e=>typeof(e==null?void 0:e.then)=="function",Xe=e=>{const{type:t,children:n,prefixCls:o,buttonProps:l,close:s,autoFocus:i,emitEvent:f,isSilent:c,quitOnNullishReturnValue:u,actionFn:a}=e,m=r.useRef(!1),d=r.useRef(null),[h,$]=Mt(!1),p=(...C)=>{s==null||s(...C)};r.useEffect(()=>{let C=null;return i&&(C=setTimeout(()=>{var x;(x=d.current)==null||x.focus({preventScroll:!0})})),()=>{C&&clearTimeout(C)}},[i]);const g=C=>{ie(C)&&($(!0),C.then((...x)=>{$(!1,!0),p.apply(void 0,x),m.current=!1},x=>{if($(!1,!0),m.current=!1,!(c!=null&&c()))return Promise.reject(x)}))},b=C=>{if(m.current)return;if(m.current=!0,!a){p();return}let x;if(f){if(x=a(C),u&&!ie(x)){m.current=!1,p(C);return}}else if(a.length)x=a(s),m.current=!1;else if(x=a(),!ie(x)){p();return}g(x)};return r.createElement(me,{...We(t),onClick:b,loading:h,prefixCls:o,...l,ref:d},n)},U=y.createContext({}),{Provider:_e}=U,Me=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:o,mergedOkCancel:l,rootPrefixCls:s,close:i,onCancel:f,onConfirm:c,onClose:u}=r.useContext(U);return l?y.createElement(Xe,{isSilent:o,actionFn:f,close:(...a)=>{i==null||i(...a),c==null||c(!1),u==null||u()},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${s}-btn`},n):null},Re=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:o,rootPrefixCls:l,okTextLocale:s,okType:i,onConfirm:f,onOk:c,onClose:u}=r.useContext(U);return y.createElement(Xe,{isSilent:n,type:i||"primary",actionFn:c,close:(...a)=>{t==null||t(...a),f==null||f(!0),u==null||u()},autoFocus:e==="ok",buttonProps:o,prefixCls:`${l}-btn`},s)},Ke=r.createContext({});function Te(e,t,n){let o=t;return!o&&n&&(o=`${e}-${n}`),o}function Ie(e,t){let n=e[`page${t?"Y":"X"}Offset`];const o=`scroll${t?"Top":"Left"}`;if(typeof n!="number"){const l=e.document;n=l.documentElement[o],typeof n!="number"&&(n=l.body[o])}return n}function dn(e){const t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,l=o.defaultView||o.parentWindow;return n.left+=Ie(l),n.top+=Ie(l,!0),n}const fn=r.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},te.apply(this,arguments)}const mn={width:0,height:0,overflow:"hidden",outline:"none"},pn={outline:"none"},Qe=y.forwardRef((e,t)=>{const{prefixCls:n,className:o,style:l,title:s,ariaId:i,footer:f,closable:c,closeIcon:u,onClose:a,children:m,bodyStyle:d,bodyProps:h,modalRender:$,onMouseDown:p,onMouseUp:g,holderRef:b,visible:C,forceRender:x,width:M,height:R,classNames:P,styles:v}=e,{panel:z}=y.useContext(Ke),W=Rt(b,z),w=r.useRef(null),O=r.useRef(null);y.useImperativeHandle(t,()=>({focus:()=>{var N;(N=w.current)==null||N.focus({preventScroll:!0})},changeActive:N=>{const{activeElement:D}=document;N&&D===O.current?w.current.focus({preventScroll:!0}):!N&&D===w.current&&O.current.focus({preventScroll:!0})}}));const I={};M!==void 0&&(I.width=M),R!==void 0&&(I.height=R);const V=f?y.createElement("div",{className:B(`${n}-footer`,P==null?void 0:P.footer),style:{...v==null?void 0:v.footer}},f):null,X=s?y.createElement("div",{className:B(`${n}-header`,P==null?void 0:P.header),style:{...v==null?void 0:v.header}},y.createElement("div",{className:B(`${n}-title`,P==null?void 0:P.title),id:i,style:{...v==null?void 0:v.title}},s)):null,L=r.useMemo(()=>typeof c=="object"&&c!==null?c:c?{closeIcon:u??y.createElement("span",{className:`${n}-close-x`})}:{},[c,u,n]),_=je(L,!0),q=typeof c=="object"&&c.disabled,K=c?y.createElement("button",te({type:"button",onClick:a,"aria-label":"Close"},_,{className:`${n}-close`,disabled:q}),L.closeIcon):null,j=y.createElement("div",{className:B(`${n}-container`,P==null?void 0:P.container),style:v==null?void 0:v.container},K,X,y.createElement("div",te({className:B(`${n}-body`,P==null?void 0:P.body),style:{...d,...v==null?void 0:v.body}},h),m),V);return y.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?i:null,"aria-modal":"true",ref:W,style:{...l,...I},className:B(n,o),onMouseDown:p,onMouseUp:g},y.createElement("div",{ref:w,tabIndex:0,style:pn},y.createElement(fn,{shouldUpdate:C||x},$?$(j):j)),y.createElement("div",{tabIndex:0,ref:O,style:mn}))});function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ce.apply(this,arguments)}const gn=r.forwardRef((e,t)=>{const{prefixCls:n,title:o,style:l,className:s,visible:i,forceRender:f,destroyOnHidden:c,motionName:u,ariaId:a,onVisibleChanged:m,mousePosition:d}=e,h=r.useRef(null),$=r.useRef(null);r.useImperativeHandle(t,()=>({...$.current,inMotion:h.current.inMotion,enableMotion:h.current.enableMotion}));const[p,g]=r.useState(),b={};p&&(b.transformOrigin=p);function C(){const x=dn(h.current.nativeElement);g(d&&(d.x||d.y)?`${d.x-x.left}px ${d.y-x.top}px`:"")}return r.createElement(De,{visible:i,onVisibleChanged:m,onAppearPrepare:C,onEnterPrepare:C,forceRender:f,motionName:u,removeOnLeave:c,ref:h},({className:x,style:M},R)=>r.createElement(Qe,ce({},e,{ref:$,title:o,ariaId:a,prefixCls:n,holderRef:R,style:{...M,...l,...b},className:B(s,x)})))});function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ue.apply(this,arguments)}const Cn=e=>{const{prefixCls:t,style:n,visible:o,maskProps:l,motionName:s,className:i}=e;return r.createElement(De,{key:"mask",visible:o,motionName:s,leavedClassName:`${t}-mask-hidden`},({className:f,style:c},u)=>r.createElement("div",ue({ref:u,style:{...c,...n},className:B(`${t}-mask`,f,i)},l)))};function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Q.apply(this,arguments)}const bn=e=>{const{prefixCls:t="rc-dialog",zIndex:n,visible:o=!1,keyboard:l=!0,focusTriggerAfterClose:s=!0,wrapStyle:i,wrapClassName:f,wrapProps:c,onClose:u,afterOpenChange:a,afterClose:m,transitionName:d,animation:h,closable:$=!0,mask:p=!0,maskTransitionName:g,maskAnimation:b,maskClosable:C=!0,maskStyle:x,maskProps:M,rootClassName:R,rootStyle:P,classNames:v,styles:z}=e,W=r.useRef(null),w=r.useRef(null),O=r.useRef(null),[I,V]=r.useState(o),X=Tt();function L(){Ee(w.current,document.activeElement)||(W.current=document.activeElement)}function _(){var E;Ee(w.current,document.activeElement)||(E=O.current)==null||E.focus()}function q(){if(V(!1),p&&W.current&&s){try{W.current.focus({preventScroll:!0})}catch{}W.current=null}I&&(m==null||m())}function K(E){E?_():q(),a==null||a(E)}function j(E){u==null||u(E)}const N=r.useRef(!1),D=r.useRef(null),oe=()=>{clearTimeout(D.current),N.current=!0},re=()=>{D.current=setTimeout(()=>{N.current=!1})};let Y=null;C&&(Y=E=>{N.current?N.current=!1:w.current===E.target&&j(E)});function ae(E){if(l&&E.keyCode===Se.ESC){E.stopPropagation(),j(E);return}o&&E.keyCode===Se.TAB&&O.current.changeActive(!E.shiftKey)}r.useEffect(()=>{o?(V(!0),L()):I&&O.current.enableMotion()&&!O.current.inMotion()&&q()},[o]),r.useEffect(()=>()=>{clearTimeout(D.current)},[]);const se={zIndex:n,...i,...z==null?void 0:z.wrapper,display:I?null:"none"};return r.createElement("div",Q({className:B(`${t}-root`,R),style:P},je(e,{data:!0})),r.createElement(Cn,{prefixCls:t,visible:p&&o,motionName:Te(t,g,b),style:{zIndex:n,...x,...z==null?void 0:z.mask},maskProps:M,className:v==null?void 0:v.mask}),r.createElement("div",Q({tabIndex:-1,onKeyDown:ae,className:B(`${t}-wrap`,f,v==null?void 0:v.wrapper),ref:w,onClick:Y,style:se},c),r.createElement(gn,Q({},e,{onMouseDown:oe,onMouseUp:re,ref:O,closable:$,ariaId:X,prefixCls:t,visible:o&&I,onClose:j,onVisibleChanged:K,motionName:Te(t,d,h)}))))};function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},de.apply(this,arguments)}const xn=e=>{const{visible:t,getContainer:n,forceRender:o,destroyOnHidden:l=!1,afterClose:s,closable:i,panelRef:f}=e,[c,u]=r.useState(t),a=r.useMemo(()=>({panel:f}),[f]);return r.useEffect(()=>{t&&u(!0)},[t]),!o&&l&&!c?null:r.createElement(Ke.Provider,{value:a},r.createElement(It,{open:t||o||c,autoDestroy:!1,getContainer:n,autoLock:t||c},r.createElement(bn,de({},e,{destroyOnHidden:l,afterClose:()=>{const m=i&&typeof i=="object"?i:{},{afterClose:d}=m||{};d==null||d(),s==null||s(),u(!1)}}))))},hn=()=>Nt()&&window.document.documentElement;function Ne(){}const yn=r.createContext({add:Ne,remove:Ne});function $n(e){const t=r.useContext(yn),n=r.useRef(null);return Ot(l=>{if(l){const s=e?l.querySelector(e):l;s&&(t.add(s),n.current=s)}else t.remove(n.current)})}const Oe=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=r.useContext(U);return y.createElement(me,{onClick:n,...e},t)},ze=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:o,onOk:l}=r.useContext(U);return y.createElement(me,{...We(n),loading:e,onClick:l,...t},o)};function Ue(e,t){return y.createElement("span",{className:`${e}-close-x`},t||y.createElement(Ge,{className:`${e}-close-icon`}))}const Ze=e=>{const{okText:t,okType:n="primary",cancelText:o,confirmLoading:l,onOk:s,onCancel:i,okButtonProps:f,cancelButtonProps:c,footer:u}=e,[a]=pe("Modal",Le()),m=t||(a==null?void 0:a.okText),d=o||(a==null?void 0:a.cancelText),h=y.useMemo(()=>({confirmLoading:l,okButtonProps:f,cancelButtonProps:c,okTextLocale:m,cancelTextLocale:d,okType:n,onOk:s,onCancel:i}),[l,f,c,m,d,n,s,i]);let $;return typeof u=="function"||typeof u>"u"?($=y.createElement(y.Fragment,null,y.createElement(Oe,null),y.createElement(ze,null)),typeof u=="function"&&($=u($,{OkBtn:ze,CancelBtn:Oe})),$=y.createElement(_e,{value:h},$)):$=u,y.createElement(zt,{disabled:!1},$)};function He(e){return{position:e,inset:0}}const vn=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-container`]:{pointerEvents:"none"},[`${t}-mask`]:{...He("fixed"),zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`&${t}-mask-blur`]:{backdropFilter:"blur(4px)"},[`${t}-hidden`]:{display:"none"}},[`${t}-wrap`]:{...He("fixed"),zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"}}},{[`${t}-root`]:Lt(e)}]},Pn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${S(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:{...Dt(e),pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${S(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-container`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:{position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:S(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive},...jt(e)},[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${S(e.borderRadiusLG)} ${S(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${S(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}}},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-container,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},En=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Sn=e=>{const{componentCls:t}=e,n=on(e),o={...n};delete o.xs;const l=`--${t.replace(".","")}-`,s=Object.keys(o).map(i=>({[`@media (min-width: ${S(o[i])})`]:{width:`var(${l}${i}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(G(Object.keys(n).map((i,f)=>{const c=Object.keys(n)[f-1];return c?{[`${l}${i}-width`]:`var(${l}${c}-width)`}:null})),[{width:`var(${l}xs-width)`}],G(s))}}},Ye=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Wt(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Je=e=>({footerBg:"transparent",headerBg:"transparent",titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${S(e.paddingMD)} ${S(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${S(e.padding)} ${S(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${S(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${S(e.paddingXS)} ${S(e.padding)}`:0,footerBorderTop:e.wireframe?`${S(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${S(e.borderRadiusLG)} ${S(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${S(e.padding*2)} ${S(e.padding*2)} ${S(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM,mask:!0}),ke=Ht("Modal",e=>{const t=Ye(e);return[Pn(t),En(t),vn(t),Ft(t,"zoom"),Sn(t)]},Je,{unitless:{titleLineHeight:!0}});let fe;const wn=e=>{fe={x:e.pageX,y:e.pageY},setTimeout(()=>{fe=null},100)};hn()&&document.documentElement.addEventListener("click",wn,!0);const et=e=>{const{prefixCls:t,className:n,rootClassName:o,open:l,wrapClassName:s,centered:i,getContainer:f,focusTriggerAfterClose:c=!0,style:u,width:a=520,footer:m,classNames:d,styles:h,children:$,loading:p,confirmLoading:g,zIndex:b,mousePosition:C,onOk:x,onCancel:M,okButtonProps:R,cancelButtonProps:P,destroyOnHidden:v,destroyOnClose:z,panelRef:W=null,closable:w,mask:O,modalRender:I,...V}=e,{getPopupContainer:X,getPrefixCls:L,direction:_,className:q,style:K,classNames:j,styles:N,centered:D,cancelButtonProps:oe,okButtonProps:re,mask:Y}=Ae("modal"),{modal:ae}=r.useContext(ne),[se,E]=r.useMemo(()=>typeof w=="boolean"?[void 0,void 0]:[w==null?void 0:w.afterClose,w==null?void 0:w.onClose],[w]),T=L("modal",t),ge=L(),[Ce,dt]=cn(O,Y,T),be=H=>{g||(M==null||M(H),E==null||E())},ft=H=>{x==null||x(H),E==null||E()},xe=Ve(T),[he,mt]=ke(T,xe),pt=B(s,{[`${T}-centered`]:i??D,[`${T}-wrap-rtl`]:_==="rtl"}),gt=m!==null&&!p?r.createElement(Ze,{...e,okButtonProps:{...re,...R},onOk:ft,cancelButtonProps:{...oe,...P},onCancel:be}):null,[Ct,ye,bt,xt]=rn(we(e),we(ae),{closable:!0,closeIcon:r.createElement(Ge,{className:`${T}-close-icon`}),closeIconRender:H=>Ue(T,H)}),ht=Ct?{disabled:bt,closeIcon:ye,afterClose:se,...xt}:!1,yt=I?H=>r.createElement("div",{className:`${T}-render`},I(H)):void 0,$t=`.${T}-${I?"render":"container"}`,vt=$n($t),Pt=At(W,vt),[$e,Et]=Vt("Modal",b),St={...e,width:a,panelRef:W,focusTriggerAfterClose:c,mask:Ce,zIndex:$e},[le,ve]=qt([j,d,dt],[N,h],{props:St}),[wt,J]=r.useMemo(()=>a&&typeof a=="object"?[void 0,a]:[a,void 0],[a]),Bt=r.useMemo(()=>{const H={};return J&&Object.keys(J).forEach(Pe=>{const k=J[Pe];k!==void 0&&(H[`--${T}-${Pe}-width`]=typeof k=="number"?`${k}px`:k)}),H},[T,J]);return r.createElement(Gt,{form:!0,space:!0},r.createElement(Xt.Provider,{value:Et},r.createElement(xn,{width:wt,...V,zIndex:$e,getContainer:f===void 0?X:f,prefixCls:T,rootClassName:B(he,o,mt,xe,le.root),rootStyle:ve.root,footer:gt,visible:l,mousePosition:C??fe,onClose:be,closable:ht,closeIcon:ye,focusTriggerAfterClose:c,transitionName:ee(ge,"zoom",e.transitionName),maskTransitionName:ee(ge,"fade",e.maskTransitionName),mask:Ce,className:B(he,n,q),style:{...K,...u,...Bt},classNames:{...le,wrapper:B(le.wrapper,pt)},styles:ve,panelRef:Pt,destroyOnHidden:v??z,modalRender:yt},p?r.createElement(an,{active:!0,title:!1,paragraph:{rows:4},className:`${T}-body-skeleton`}):$)))},Bn=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:l,fontSize:s,lineHeight:i,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:u}=e,a=`${t}-confirm`;return{[a]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${a}-body-wrapper`]:{...Kt()},[`&${t} ${t}-body`]:{padding:u},[`${a}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(l).equal()).div(2).equal()}},[`${a}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${S(e.marginSM)})`},[`${e.iconCls} + ${a}-paragraph`]:{maxWidth:`calc(100% - ${S(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${a}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${a}-container`]:{color:e.colorText,fontSize:s,lineHeight:i},[`${a}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${a}-error ${a}-body > ${e.iconCls}`]:{color:e.colorError},[`${a}-warning ${a}-body > ${e.iconCls},
        ${a}-confirm ${a}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${a}-info ${a}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${a}-success ${a}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Mn=_t(["Modal","confirm"],e=>{const t=Ye(e);return Bn(t)},Je,{order:-1e3}),tt=e=>{const{prefixCls:t,icon:n,okText:o,cancelText:l,confirmPrefixCls:s,type:i,okCancel:f,footer:c,locale:u,...a}=e;let m=n;if(!n&&n!==null)switch(i){case"info":m=r.createElement(sn,null);break;case"success":m=r.createElement(Jt,null);break;case"error":m=r.createElement(Yt,null);break;default:m=r.createElement(Zt,null)}const d=f??i==="confirm",h=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[$]=pe("Modal"),p=u||$,g=o||(d?p==null?void 0:p.okText:p==null?void 0:p.justOkText),b=l||(p==null?void 0:p.cancelText),{closable:C}=a,{onClose:x}=C&&typeof C=="object"?C:{},M=r.useMemo(()=>({autoFocusButton:h,cancelTextLocale:b,okTextLocale:g,mergedOkCancel:d,onClose:x,...a}),[h,b,g,d,x,a]),R=r.createElement(r.Fragment,null,r.createElement(Me,null),r.createElement(Re,null)),P=e.title!==void 0&&e.title!==null,v=`${s}-body`;return r.createElement("div",{className:`${s}-body-wrapper`},r.createElement("div",{className:B(v,{[`${v}-has-title`]:P})},m,r.createElement("div",{className:`${s}-paragraph`},P&&r.createElement("span",{className:`${s}-title`},e.title),r.createElement("div",{className:`${s}-content`},e.content))),c===void 0||typeof c=="function"?r.createElement(_e,{value:M},r.createElement("div",{className:`${s}-btns`},typeof c=="function"?c(R,{OkBtn:Re,CancelBtn:Me}):R)):c,r.createElement(Mn,{prefixCls:t}))},Rn=e=>{const{close:t,zIndex:n,maskStyle:o,direction:l,prefixCls:s,wrapClassName:i,rootPrefixCls:f,bodyStyle:c,closable:u=!1,onConfirm:a,styles:m,title:d,okButtonProps:h,cancelButtonProps:$}=e,{cancelButtonProps:p,okButtonProps:g}=Ae("modal"),b=`${s}-confirm`,C=e.width||416,x=e.style||{},M=e.maskClosable===void 0?!1:e.maskClosable,R=B(b,`${b}-${e.type}`,{[`${b}-rtl`]:l==="rtl"},e.className),[,P]=Qt(),v=r.useMemo(()=>n!==void 0?n:P.zIndexPopupBase+Ut,[n,P]);return r.createElement(et,{...e,className:R,wrapClassName:B({[`${b}-centered`]:!!e.centered},i),onCancel:()=>{t==null||t({triggerCancel:!0}),a==null||a(!1)},title:d,footer:null,transitionName:ee(f||"","zoom",e.transitionName),maskTransitionName:ee(f||"","fade",e.maskTransitionName),maskClosable:M,style:x,styles:{body:c,mask:o,...m},width:C,zIndex:v,closable:u},r.createElement(tt,{...e,confirmPrefixCls:b,okButtonProps:{...g,...h},cancelButtonProps:{...p,...$}}))},nt=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:o,theme:l}=e;return r.createElement(qe,{prefixCls:t,iconPrefixCls:n,direction:o,theme:l},r.createElement(Rn,{...e}))},A=[];let ot="";function rt(){return ot}const Tn=e=>{var u;const{prefixCls:t,getContainer:n,direction:o}=e,l=Le(),s=r.useContext(ne),i=rt()||s.getPrefixCls(),f=t||`${i}-modal`;let c=n;return c===!1&&(c=void 0),y.createElement(nt,{...e,rootPrefixCls:i,prefixCls:f,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:((u=s.locale)==null?void 0:u.Modal)??l,getContainer:c})};function Z(e){const t=kt(),n=document.createDocumentFragment();let o={...e,close:f,open:!0},l;function s(...u){var m;u.some(d=>d==null?void 0:d.triggerCancel)&&((m=e.onCancel)==null||m.call(e,()=>{},...u.slice(1)));for(let d=0;d<A.length;d++)if(A[d]===f){A.splice(d,1);break}tn(n).then(()=>{})}const i=u=>{clearTimeout(l),l=setTimeout(()=>{const a=t.getPrefixCls(void 0,rt()),m=t.getIconPrefixCls(),d=t.getTheme(),h=y.createElement(Tn,{...u});en(y.createElement(qe,{prefixCls:a,iconPrefixCls:m,theme:d},typeof t.holderRender=="function"?t.holderRender(h):h),n)})};function f(...u){o={...o,open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),s.apply(this,u)}},i(o)}function c(u){typeof u=="function"?o=u(o):o={...o,...u},i(o)}return i(o),A.push(f),{destroy:f,update:c}}function at(e){return{...e,type:"warning"}}function st(e){return{...e,type:"info"}}function lt(e){return{...e,type:"success"}}function it(e){return{...e,type:"error"}}function ct(e){return{...e,type:"confirm"}}function In({rootPrefixCls:e}){ot=e}const Nn=({afterClose:e,config:t,...n},o)=>{const[l,s]=r.useState(!0),[i,f]=r.useState(t),{direction:c,getPrefixCls:u}=r.useContext(ne),a=u("modal"),m=u(),d=()=>{var g;e(),(g=i.afterClose)==null||g.call(i)},h=(...g)=>{var C;s(!1),g.some(x=>x==null?void 0:x.triggerCancel)&&((C=i.onCancel)==null||C.call(i,()=>{},...g.slice(1)))};r.useImperativeHandle(o,()=>({destroy:h,update:g=>{f(b=>{const C=typeof g=="function"?g(b):g;return{...b,...C}})}}));const $=i.okCancel??i.type==="confirm",[p]=pe("Modal",nn.Modal);return r.createElement(nt,{prefixCls:a,rootPrefixCls:m,...i,close:h,open:l,afterClose:d,okText:i.okText||($?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:i.direction||c,cancelText:i.cancelText||(p==null?void 0:p.cancelText),...n})},On=r.forwardRef(Nn);let Fe=0;const zn=r.memo(r.forwardRef((e,t)=>{const[n,o]=un();return r.useImperativeHandle(t,()=>({patchElement:o}),[o]),r.createElement(r.Fragment,null,n)}));function Hn(){const e=r.useRef(null),[t,n]=r.useState([]);r.useEffect(()=>{t.length&&(G(t).forEach(i=>{i()}),n([]))},[t]);const o=r.useCallback(s=>function(f){var p;Fe+=1;const c=r.createRef();let u;const a=new Promise(g=>{u=g});let m=!1,d;const h=r.createElement(On,{key:`modal-${Fe}`,config:s(f),ref:c,afterClose:()=>{d==null||d()},isSilent:()=>m,onConfirm:g=>{u(g)}});return d=(p=e.current)==null?void 0:p.patchElement(h),d&&A.push(d),{destroy:()=>{function g(){var b;(b=c.current)==null||b.destroy()}c.current?g():n(b=>[].concat(G(b),[g]))},update:g=>{function b(){var C;(C=c.current)==null||C.update(g)}c.current?b():n(C=>[].concat(G(C),[b]))},then:g=>(m=!0,a.then(g))}},[]);return[r.useMemo(()=>({info:o(st),success:o(lt),error:o(it),warning:o(at),confirm:o(ct)}),[o]),r.createElement(zn,{key:"modal-holder",ref:e})]}const Fn=e=>{const{prefixCls:t,className:n,closeIcon:o,closable:l,type:s,title:i,children:f,footer:c,...u}=e,{getPrefixCls:a}=r.useContext(ne),m=a(),d=t||a("modal"),h=Ve(m),[$,p]=ke(d,h),g=`${d}-confirm`;let b={};return s?b={closable:l??!1,title:"",footer:"",children:r.createElement(tt,{...e,prefixCls:d,confirmPrefixCls:g,rootPrefixCls:m,content:f})}:b={closable:l??!0,title:i,footer:c!==null&&r.createElement(Ze,{...e}),children:f},r.createElement(Qe,{prefixCls:d,className:B($,`${d}-pure-panel`,s&&g,s&&`${g}-${s}`,n,p,h),...u,closeIcon:Ue(d,o),closable:l,...b})},Wn=ln(Fn);function ut(e){return Z(at(e))}const F=et;F.useModal=Hn;F.info=function(t){return Z(st(t))};F.success=function(t){return Z(lt(t))};F.error=function(t){return Z(it(t))};F.warning=ut;F.warn=ut;F.confirm=function(t){return Z(ct(t))};F.destroyAll=function(){for(;A.length;){const t=A.pop();t&&t()}};F.config=In;F._InternalPanelDoNotUseOrYouWillBeFired=Wn;export{Xe as A,F as M};
