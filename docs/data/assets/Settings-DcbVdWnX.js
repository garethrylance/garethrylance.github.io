import{y as z,H as D,a as H,a7 as De,V as ie,ac as ve,O as ye,av as Le,aT as Qe,at as Oe,r as m,J as Be,z as ke,A as Ie,a4 as E,aI as He,aM as Re,D as Te,M as Ee,ae as Ae,K as ze,aR as Fe,U as Ke,aL as We,$ as Ge,ah as Ve,aw as Xe,aV as _e,bl as Ue,I as fe,h as Je,j as t,S as q,T as Pe,u as Ye,g as Ze,B as O,b as et,a1 as tt}from"./index-DzaOA67_.js";import{k as at,d as f,C as ee,R as ue,s as k,f as G,a as $e,S as Ce}from"./fileValidation-AnOVqnKf.js";import{R as te,C as B}from"./row--SaJyCfC.js";import{S as U}from"./index-BQp54Riu.js";import{D as he}from"./index-8s_YyauR.js";import{A as be}from"./index-oKRoomyI.js";import{R as V}from"./DeleteOutlined-BXI_xhMw.js";import{R as we}from"./ReloadOutlined-CF9CRRUS.js";import{R as nt}from"./CheckOutlined-Dzgg9XeN.js";import{M as F}from"./index-C7hRAURT.js";const st=z.forwardRef((a,e)=>{const{prefixCls:s,forceRender:n,className:u,style:i,children:o,isActive:c,role:r,classNames:h,styles:d}=a,[p,S]=z.useState(c||n);return z.useEffect(()=>{(n||c)&&S(!0)},[n,c]),p?z.createElement("div",{ref:e,className:D(`${s}-panel`,{[`${s}-panel-active`]:c,[`${s}-panel-inactive`]:!c},u),style:i,role:r},z.createElement("div",{className:D(`${s}-body`,h==null?void 0:h.body),style:d==null?void 0:d.body},o)):null}),Me=z.forwardRef((a,e)=>{const{showArrow:s=!0,headerClass:n,isActive:u,onItemClick:i,forceRender:o,className:c,classNames:r={},styles:h={},prefixCls:d,collapsible:p,accordion:S,panelKey:g,extra:l,header:I,expandIcon:A,openMotion:T,destroyOnHidden:w,children:R,...j}=a,x=p==="disabled",b=l!=null&&typeof l!="boolean",C={onClick:()=>{i==null||i(g)},onKeyDown:M=>{(M.key==="Enter"||M.keyCode===ie.ENTER||M.which===ie.ENTER)&&(i==null||i(g))},role:S?"tab":"button","aria-expanded":u,"aria-disabled":x,tabIndex:x?-1:0},v=typeof A=="function"?A(a):z.createElement("i",{className:"arrow"}),$=v&&z.createElement("div",H({className:D(`${d}-expand-icon`,r==null?void 0:r.icon),style:h==null?void 0:h.icon},["header","icon"].includes(p)?C:{}),v),N=D(`${d}-item`,{[`${d}-item-active`]:u,[`${d}-item-disabled`]:x},c),y={className:D(n,`${d}-header`,{[`${d}-collapsible-${p}`]:!!p},r==null?void 0:r.header),style:h==null?void 0:h.header,...["header","icon"].includes(p)?{}:C};return z.createElement("div",H({},j,{ref:e,className:N}),z.createElement("div",y,s&&$,z.createElement("span",H({className:D(`${d}-title`,r==null?void 0:r.title),style:h==null?void 0:h.title},p==="header"?C:{}),I),b&&z.createElement("div",{className:`${d}-extra`},l)),z.createElement(De,H({visible:u,leavedClassName:`${d}-panel-hidden`},T,{forceRender:o,removeOnLeave:w}),({className:M,style:J},W)=>z.createElement(st,{ref:W,prefixCls:d,className:M,classNames:r,style:J,styles:h,isActive:u,forceRender:o,role:S?"tabpanel":void 0},R)))}),rt=(a,e)=>{const{prefixCls:s,accordion:n,collapsible:u,destroyOnHidden:i,onItemClick:o,activeKey:c,openMotion:r,expandIcon:h,classNames:d,styles:p}=e;return a.map((S,g)=>{const{children:l,label:I,key:A,collapsible:T,onItemClick:w,destroyOnHidden:R,...j}=S,x=String(A??g),b=T??u,C=R??i,v=N=>{b!=="disabled"&&(o(N),w==null||w(N))};let $=!1;return n?$=c[0]===x:$=c.indexOf(x)>-1,z.createElement(Me,H({},j,{classNames:d,styles:p,prefixCls:s,key:x,panelKey:x,isActive:$,accordion:n,openMotion:r,expandIcon:h,header:I,collapsible:b,onItemClick:v,destroyOnHidden:C}),l)})},lt=(a,e,s)=>{if(!a)return null;const{prefixCls:n,accordion:u,collapsible:i,destroyOnHidden:o,onItemClick:c,activeKey:r,openMotion:h,expandIcon:d,classNames:p,styles:S}=s,g=a.key||String(e),{header:l,headerClass:I,destroyOnHidden:A,collapsible:T,onItemClick:w}=a.props;let R=!1;u?R=r[0]===g:R=r.indexOf(g)>-1;const j=T??i,x=C=>{j!=="disabled"&&(c(C),w==null||w(C))},b={key:g,panelKey:g,header:l,headerClass:I,classNames:p,styles:S,isActive:R,prefixCls:n,destroyOnHidden:A??o,openMotion:h,accordion:u,children:a.props.children,onItemClick:x,expandIcon:d,collapsible:j};return typeof a.type=="string"?a:(Object.keys(b).forEach(C=>{typeof b[C]>"u"&&delete b[C]}),z.cloneElement(a,b))};function it(a,e,s){return Array.isArray(a)?rt(a,s):ve(e).map((n,u)=>lt(n,u,s))}function je(a){let e=a;if(!Array.isArray(e)){const s=typeof e;e=s==="number"||s==="string"?[e]:[]}return e.map(s=>String(s))}const ot=z.forwardRef((a,e)=>{const{prefixCls:s="rc-collapse",destroyOnHidden:n=!1,style:u,accordion:i,className:o,children:c,collapsible:r,openMotion:h,expandIcon:d,activeKey:p,defaultActiveKey:S,onChange:g,items:l,classNames:I,styles:A}=a,T=D(s,o),[w,R]=ye(S,p),j=je(w),x=Le(v=>{const $=je(v);R($),g==null||g($)}),b=v=>{x(i?j[0]===v?[]:[v]:j.includes(v)?j.filter($=>$!==v):[...j,v])};Qe(!c,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");const C=it(l,c,{prefixCls:s,accordion:i,openMotion:h,expandIcon:d,collapsible:r,destroyOnHidden:n,onItemClick:b,activeKey:j,classNames:I,styles:A});return z.createElement("div",H({ref:e,className:T,style:u,role:i?"tablist":void 0},Oe(a,{aria:!0,data:!0})),C)}),xe=Object.assign(ot,{Panel:Me}),{Panel:_t}=xe,ct=m.forwardRef((a,e)=>{const{getPrefixCls:s}=m.useContext(Be),{prefixCls:n,className:u,showArrow:i=!0}=a,o=s("collapse",n),c=D({[`${o}-no-arrow`]:!i},u);return m.createElement(xe.Panel,{ref:e,...a,prefixCls:o,className:c})}),dt=a=>{const{componentCls:e,contentBg:s,padding:n,headerBg:u,headerPadding:i,collapseHeaderPaddingSM:o,collapseHeaderPaddingLG:c,collapsePanelBorderRadius:r,lineWidth:h,lineType:d,colorBorder:p,colorText:S,colorTextHeading:g,colorTextDisabled:l,fontSizeLG:I,lineHeight:A,lineHeightLG:T,marginSM:w,paddingSM:R,paddingLG:j,paddingXS:x,motionDurationSlow:b,fontSizeIcon:C,contentPadding:v,fontHeight:$,fontHeightLG:N}=a,P=`${E(h)} ${d} ${p}`;return{[e]:{...Te(a),backgroundColor:u,border:P,borderRadius:r,"&-rtl":{direction:"rtl"},[`& > ${e}-item`]:{borderBottom:P,"&:first-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`${E(r)} ${E(r)} 0 0`}},"&:last-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`0 0 ${E(r)} ${E(r)}`}},[`> ${e}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:i,color:g,lineHeight:A,cursor:"pointer",transition:`all ${b}, visibility 0s`,...Re(a),[`> ${e}-title`]:{flex:"auto"},[`${e}-expand-icon`]:{height:$,display:"flex",alignItems:"center",marginInlineEnd:w},[`${e}-arrow`]:{...He(),fontSize:C,transition:`transform ${b}`,svg:{transition:`transform ${b}`}},[`${e}-title`]:{marginInlineEnd:"auto"}},[`${e}-collapsible-header`]:{cursor:"default",[`${e}-title`]:{flex:"none",cursor:"pointer"},[`${e}-expand-icon`]:{cursor:"pointer"}},[`${e}-collapsible-icon`]:{cursor:"unset",[`${e}-expand-icon`]:{cursor:"pointer"}}},[`${e}-panel`]:{color:S,backgroundColor:s,borderTop:P,[`& > ${e}-body`]:{padding:v},"&-hidden":{display:"none"}},"&-small":{[`> ${e}-item`]:{[`> ${e}-header`]:{padding:o,paddingInlineStart:x,[`> ${e}-expand-icon`]:{marginInlineStart:a.calc(R).sub(x).equal()}},[`> ${e}-panel > ${e}-body`]:{padding:R}}},"&-large":{[`> ${e}-item`]:{fontSize:I,lineHeight:T,[`> ${e}-header`]:{padding:c,paddingInlineStart:n,[`> ${e}-expand-icon`]:{height:N,marginInlineStart:a.calc(j).sub(n).equal()}},[`> ${e}-panel > ${e}-body`]:{padding:j}}},[`${e}-item:last-child`]:{borderBottom:0,[`> ${e}-panel`]:{borderRadius:`0 0 ${E(r)} ${E(r)}`}},[`& ${e}-item-disabled > ${e}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:l,cursor:"not-allowed"}},[`&${e}-icon-placement-end`]:{[`& > ${e}-item`]:{[`> ${e}-header`]:{[`${e}-expand-icon`]:{order:1,marginInlineEnd:0,marginInlineStart:w}}}}}}},ut=a=>{const{componentCls:e}=a,s=`> ${e}-item > ${e}-header ${e}-arrow`;return{[`${e}-rtl`]:{[s]:{transform:"rotate(180deg)"}}}},ht=a=>{const{componentCls:e,headerBg:s,borderlessContentPadding:n,borderlessContentBg:u,colorBorder:i}=a;return{[`${e}-borderless`]:{backgroundColor:s,border:0,[`> ${e}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${e}-item:last-child,
        > ${e}-item:last-child ${e}-header
      `]:{borderRadius:0},[`> ${e}-item:last-child`]:{borderBottom:0},[`> ${e}-item > ${e}-panel`]:{backgroundColor:u,borderTop:0},[`> ${e}-item > ${e}-panel > ${e}-body`]:{padding:n}}}},gt=a=>{const{componentCls:e,paddingSM:s}=a;return{[`${e}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${e}-item`]:{borderBottom:0,[`> ${e}-panel`]:{backgroundColor:"transparent",border:0,[`> ${e}-body`]:{paddingBlock:s}}}}}},pt=a=>({headerPadding:`${a.paddingSM}px ${a.padding}px`,headerBg:a.colorFillAlter,contentPadding:`${a.padding}px 16px`,contentBg:a.colorBgContainer,borderlessContentPadding:`${a.paddingXXS}px 16px ${a.padding}px`,borderlessContentBg:"transparent"}),mt=ke("Collapse",a=>{const e=Ie(a,{collapseHeaderPaddingSM:`${E(a.paddingXS)} ${E(a.paddingSM)}`,collapseHeaderPaddingLG:`${E(a.padding)} ${E(a.paddingLG)}`,collapsePanelBorderRadius:a.borderRadiusLG});return[dt(e),ht(e),gt(e),ut(e),at(e)]},pt),yt=m.forwardRef((a,e)=>{const{getPrefixCls:s,direction:n,expandIcon:u,className:i,style:o,classNames:c,styles:r}=Ee("collapse"),{prefixCls:h,className:d,rootClassName:p,style:S,bordered:g=!0,ghost:l,size:I,expandIconPlacement:A,expandIconPosition:T,children:w,destroyInactivePanel:R,destroyOnHidden:j,expandIcon:x,classNames:b,styles:C}=a,v=Ae(Q=>I??Q??"middle"),$=s("collapse",h),N=s(),[P,y]=mt($),M=A??T??"start",J={...a,size:v,bordered:g,expandIconPlacement:M},[W,ae]=ze([c,b],[r,C],{props:J}),_=x??u,ne=m.useCallback((Q={})=>{const se=typeof _=="function"?_(Q):m.createElement(Fe,{rotate:Q.isActive?n==="rtl"?-90:90:void 0,"aria-label":Q.isActive?"expanded":"collapsed"});return Ke(se,()=>{var Se;return{className:D((Se=se==null?void 0:se.props)==null?void 0:Se.className,`${$}-arrow`)}})},[_,$,n]),oe=D(`${$}-icon-placement-${M}`,{[`${$}-borderless`]:!g,[`${$}-rtl`]:n==="rtl",[`${$}-ghost`]:!!l,[`${$}-${v}`]:v!=="middle"},i,d,p,P,y,W.root),ce=m.useMemo(()=>({...We(N),motionAppear:!1,leavedClassName:`${$}-panel-hidden`}),[N,$]),de=m.useMemo(()=>w?ve(w).map(Q=>Q):null,[w]);return m.createElement(xe,{ref:e,openMotion:ce,...Ge(a,["rootClassName"]),expandIcon:ne,prefixCls:$,className:oe,style:{...ae.root,...o,...S},classNames:W,styles:ae,destroyOnHidden:j??R},de)}),ft=Object.assign(yt,{Panel:ct});var xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zm-377.1-44.1c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-.6-.6-1.3-1.2-2-1.7l-78.2-78.2a9.11 9.11 0 00-12.8 0l-48 48a9.11 9.11 0 000 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256zm12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"}}]},name:"bg-colors",theme:"outlined"},St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},$t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function pe(){return pe=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},pe.apply(this,arguments)}const qe=m.forwardRef(({prefixCls:a="rc-switch",className:e,checked:s,defaultChecked:n,disabled:u,loadingIcon:i,checkedChildren:o,unCheckedChildren:c,onClick:r,onChange:h,onKeyDown:d,styles:p,classNames:S,...g},l)=>{const[I,A]=ye(n??!1,s);function T(x,b){let C=I;return u||(C=x,A(C),h==null||h(C,b)),C}function w(x){x.which===ie.LEFT?T(!1,x):x.which===ie.RIGHT&&T(!0,x),d==null||d(x)}function R(x){const b=T(!I,x);r==null||r(b,x)}const j=D(a,e,{[`${a}-checked`]:I,[`${a}-disabled`]:u});return m.createElement("button",pe({},g,{type:"button",role:"switch","aria-checked":I,disabled:u,className:j,ref:l,onKeyDown:w,onClick:R}),i,m.createElement("span",{className:`${a}-inner`},m.createElement("span",{className:D(`${a}-inner-checked`,S==null?void 0:S.content),style:p==null?void 0:p.content},o),m.createElement("span",{className:D(`${a}-inner-unchecked`,S==null?void 0:S.content),style:p==null?void 0:p.content},c)))});qe.displayName="Switch";const Ct=a=>{const{componentCls:e,trackHeightSM:s,trackPadding:n,trackMinWidthSM:u,innerMinMarginSM:i,innerMaxMarginSM:o,handleSizeSM:c,calc:r}=a,h=`${e}-inner`,d=E(r(c).add(r(n).mul(2)).equal()),p=E(r(o).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:u,height:s,lineHeight:E(s),[`${e}-inner`]:{paddingInlineStart:o,paddingInlineEnd:i,[`${h}-checked, ${h}-unchecked`]:{minHeight:s},[`${h}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${p})`,marginInlineEnd:`calc(100% - ${d} + ${p})`},[`${h}-unchecked`]:{marginTop:r(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:c,height:c},[`${e}-loading-icon`]:{top:r(r(c).sub(a.switchLoadingIconSize)).div(2).equal(),fontSize:a.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:i,paddingInlineEnd:o,[`${h}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${h}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${p})`,marginInlineEnd:`calc(-100% + ${d} - ${p})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${E(r(c).add(n).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${h}`]:{[`${h}-unchecked`]:{marginInlineStart:r(a.marginXXS).div(2).equal(),marginInlineEnd:r(a.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${h}`]:{[`${h}-checked`]:{marginInlineStart:r(a.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:r(a.marginXXS).div(2).equal()}}}}}}},bt=a=>{const{componentCls:e,handleSize:s,calc:n}=a;return{[e]:{[`${e}-loading-icon${a.iconCls}`]:{position:"relative",top:n(n(s).sub(a.fontSize)).div(2).equal(),color:a.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:a.switchColor}}}},wt=a=>{const{componentCls:e,trackPadding:s,handleBg:n,handleShadow:u,handleSize:i,calc:o}=a,c=`${e}-handle`;return{[e]:{[c]:{position:"absolute",top:s,insetInlineStart:s,width:i,height:i,transition:`all ${a.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n,borderRadius:o(i).div(2).equal(),boxShadow:u,transition:`all ${a.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${c}`]:{insetInlineStart:`calc(100% - ${E(o(i).add(s).equal())})`},[`&:not(${e}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:a.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:a.switchHandleActiveInset}}}}},jt=a=>{const{componentCls:e,trackHeight:s,trackPadding:n,innerMinMargin:u,innerMaxMargin:i,handleSize:o,calc:c}=a,r=`${e}-inner`,h=E(c(o).add(c(n).mul(2)).equal()),d=E(c(i).mul(2).equal());return{[e]:{[r]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:u,transition:`padding-inline-start ${a.switchDuration} ease-in-out, padding-inline-end ${a.switchDuration} ease-in-out`,[`${r}-checked, ${r}-unchecked`]:{display:"block",color:a.colorTextLightSolid,fontSize:a.fontSizeSM,transition:`margin-inline-start ${a.switchDuration} ease-in-out, margin-inline-end ${a.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:s},[`${r}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${d})`,marginInlineEnd:`calc(100% - ${h} + ${d})`},[`${r}-unchecked`]:{marginTop:c(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${r}`]:{paddingInlineStart:u,paddingInlineEnd:i,[`${r}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${r}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${d})`,marginInlineEnd:`calc(-100% + ${h} - ${d})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${r}`]:{[`${r}-unchecked`]:{marginInlineStart:c(n).mul(2).equal(),marginInlineEnd:c(n).mul(-1).mul(2).equal()}},[`&${e}-checked ${r}`]:{[`${r}-checked`]:{marginInlineStart:c(n).mul(-1).mul(2).equal(),marginInlineEnd:c(n).mul(2).equal()}}}}}},vt=a=>{const{componentCls:e,trackHeight:s,trackMinWidth:n}=a;return{[e]:{...Te(a),position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n,height:s,lineHeight:E(s),verticalAlign:"middle",background:a.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${a.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:a.colorTextTertiary},...Re(a),[`&${e}-checked`]:{background:a.switchColor,[`&:hover:not(${e}-disabled)`]:{background:a.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:a.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}}}},kt=a=>{const{fontSize:e,lineHeight:s,controlHeight:n,colorWhite:u}=a,i=e*s,o=n/2,c=2,r=i-c*2,h=o-c*2;return{trackHeight:i,trackHeightSM:o,trackMinWidth:r*2+c*4,trackMinWidthSM:h*2+c*2,trackPadding:c,handleBg:u,handleSize:r,handleSizeSM:h,handleShadow:`0 2px 4px 0 ${new Ve("#00230b").setA(.2).toRgbString()}`,innerMinMargin:r/2,innerMaxMargin:r+c+c*2,innerMinMarginSM:h/2,innerMaxMarginSM:h+c+c*2}},It=ke("Switch",a=>{const e=Ie(a,{switchDuration:a.motionDurationMid,switchColor:a.colorPrimary,switchDisabledOpacity:a.opacityLoading,switchLoadingIconSize:a.calc(a.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${a.opacityLoading})`,switchHandleActiveInset:"-30%"});return[vt(e),jt(e),wt(e),bt(e),Ct(e)]},kt),Rt=m.forwardRef((a,e)=>{const{prefixCls:s,size:n,disabled:u,loading:i,className:o,rootClassName:c,style:r,checked:h,value:d,defaultChecked:p,defaultValue:S,onChange:g,styles:l,classNames:I,...A}=a,[T,w]=ye(p??S??!1,h??d),{getPrefixCls:R,direction:j,className:x,style:b,classNames:C,styles:v}=Ee("switch"),$=m.useContext(Xe),N=(u??$)||i,P=R("switch",s),y=m.createElement("div",{className:`${P}-handle`},i&&m.createElement(Ue,{className:`${P}-loading-icon`})),[M,J]=It(P),W=Ae(n),ae={...a,size:W,disabled:N},[_,ne]=ze([C,I],[v,l],{props:ae}),oe=D(x,{[`${P}-small`]:W==="small",[`${P}-loading`]:i,[`${P}-rtl`]:j==="rtl"},o,c,_.root,M,J),ce={...ne.root,...b,...r},de=(...Q)=>{w(Q[0]),g==null||g(...Q)};return m.createElement(_e,{component:"Switch",disabled:N},m.createElement(qe,{...A,classNames:_,styles:ne,checked:T,onChange:de,prefixCls:P,className:oe,style:ce,disabled:N,ref:e,loadingIcon:y}))}),Ne=Rt;Ne.__ANT_SWITCH=!0;var Tt=function(e,s){return m.createElement(fe,H({},e,{ref:s,icon:xt}))},Et=m.forwardRef(Tt),At=function(e,s){return m.createElement(fe,H({},e,{ref:s,icon:St}))},zt=m.forwardRef(At),Pt=function(e,s){return m.createElement(fe,H({},e,{ref:s,icon:$t}))},X=m.forwardRef(Pt);class K{static async getStats(){const e=await f.files.toArray(),s=await f.pythonCode.toArray(),n=await f.executionResults.toArray(),u=await f.sqlQueries.toArray(),i=await f.sqlQueryResults.toArray(),o=e.reduce((g,l)=>g+l.size,0),c=s.reduce((g,l)=>g+this.estimateSize(l.code),0),r=n.reduce((g,l)=>g+this.estimateSize(JSON.stringify(l.result))+this.estimateSize(l.codeSnapshot),0),h=u.reduce((g,l)=>g+this.estimateSize(l.query),0),d=i.reduce((g,l)=>g+this.estimateSize(JSON.stringify(l.result))+this.estimateSize(l.querySnapshot),0),p=1024,S=e.reduce((g,l)=>(g[l.fileType]=(g[l.fileType]||0)+1,g),{});return{total:o+c+r+h+d+p,files:o,pythonCode:c,executionResults:r,sqlQueries:h,sqlQueryResults:d,settings:p,fileDetails:e.sort((g,l)=>l.size-g.size).map(g=>({id:g.id,name:g.name,size:g.size,type:g.fileType})),fileTypeCounts:S,counts:{files:e.length,pythonScripts:s.length,pythonResults:n.length,sqlScripts:u.length,sqlResults:i.length}}}static async clearFiles(){await f.transaction("rw",[f.files,f.pythonCode,f.executionResults],async()=>{await f.files.clear(),await f.pythonCode.clear(),await f.executionResults.clear()})}static async clearCode(){await f.pythonCode.clear()}static async clearResults(){await f.executionResults.clear()}static async clearSqlQueries(){await f.sqlQueries.clear()}static async clearSqlResults(){await f.sqlQueryResults.clear()}static async clearAllSqlData(){await f.transaction("rw",[f.sqlQueries,f.sqlQueryResults],async()=>{await f.sqlQueries.clear(),await f.sqlQueryResults.clear()})}static async clearSettings(){await f.pyodideSettings.clear(),await f.pyodideSettings.add({id:"pyodide-settings",packages:["pandas","numpy"],autoDetect:!0})}static async clearAllData(){await f.transaction("rw",[f.files,f.pythonCode,f.executionResults,f.sqlQueries,f.sqlQueryResults,f.pyodideSettings],async()=>{await f.files.clear(),await f.pythonCode.clear(),await f.executionResults.clear(),await f.sqlQueries.clear(),await f.sqlQueryResults.clear(),await f.pyodideSettings.clear(),await f.pyodideSettings.add({id:"pyodide-settings",packages:["pandas","numpy"],autoDetect:!0})})}static estimateSize(e){return e.length*2}static formatBytes(e){if(e===0)return"0 B";const s=1024,n=["B","KB","MB","GB"],u=Math.floor(Math.log(e)/Math.log(s));return`${(e/Math.pow(s,u)).toFixed(1)} ${n[u]}`}}function Mt(){const[a,e]=m.useState(null),[s,n]=m.useState(!1),[u,i]=m.useState(null),o=m.useCallback(async()=>{try{n(!0),i(null);const l=await K.getStats();e(l)}catch(l){console.error("Load stats error:",l),i(l instanceof Error?l.message:"Failed to load storage stats")}finally{n(!1)}},[]);m.useEffect(()=>{o()},[o]);const c=m.useCallback(async()=>{try{n(!0),i(null),await K.clearFiles(),await o()}catch(l){throw console.error("Clear files error:",l),i(l instanceof Error?l.message:"Failed to clear files"),l}finally{n(!1)}},[o]),r=m.useCallback(async()=>{try{n(!0),i(null),await K.clearCode(),await o()}catch(l){throw console.error("Clear code error:",l),i(l instanceof Error?l.message:"Failed to clear code"),l}finally{n(!1)}},[o]),h=m.useCallback(async()=>{try{n(!0),i(null),await K.clearResults(),await o()}catch(l){throw console.error("Clear results error:",l),i(l instanceof Error?l.message:"Failed to clear results"),l}finally{n(!1)}},[o]),d=m.useCallback(async()=>{try{n(!0),i(null),await K.clearSqlQueries(),await o()}catch(l){throw console.error("Clear SQL queries error:",l),i(l instanceof Error?l.message:"Failed to clear SQL queries"),l}finally{n(!1)}},[o]),p=m.useCallback(async()=>{try{n(!0),i(null),await K.clearSqlResults(),await o()}catch(l){throw console.error("Clear SQL results error:",l),i(l instanceof Error?l.message:"Failed to clear SQL results"),l}finally{n(!1)}},[o]),S=m.useCallback(async()=>{try{n(!0),i(null),await K.clearAllSqlData(),await o()}catch(l){throw console.error("Clear all SQL data error:",l),i(l instanceof Error?l.message:"Failed to clear all SQL data"),l}finally{n(!1)}},[o]),g=m.useCallback(async()=>{try{n(!0),i(null),await K.clearAllData(),await o()}catch(l){throw console.error("Clear all data error:",l),i(l instanceof Error?l.message:"Failed to clear all data"),l}finally{n(!1)}},[o]);return{stats:a,loading:s,error:u,loadStats:o,clearFiles:c,clearCode:r,clearResults:h,clearSqlQueries:d,clearSqlResults:p,clearAllSqlData:S,clearAllData:g}}const ge="pyodide-settings",qt=["pandas","numpy","matplotlib","scipy","scikit-learn","statsmodels","seaborn"];class re{static async getSettings(){let e=await f.pyodideSettings.get(ge);return e||(e={id:ge,packages:["pandas","numpy"],autoDetect:!0},await f.pyodideSettings.put(e)),e}static async updateSettings(e){const n={...await this.getSettings(),...e};return await f.pyodideSettings.put(n),n}static async updatePackages(e){return this.updateSettings({packages:e})}static async updateAutoDetect(e){return this.updateSettings({autoDetect:e})}static async resetToDefaults(){const e={id:ge,packages:["pandas","numpy"],autoDetect:!0};return await f.pyodideSettings.put(e),e}}function Nt(){const[a,e]=m.useState(null),[s,n]=m.useState(!1),[u,i]=m.useState(null),o=m.useCallback(async()=>{try{n(!0),i(null);const d=await re.getSettings();e(d)}catch(d){console.error("Load settings error:",d),i(d instanceof Error?d.message:"Failed to load settings")}finally{n(!1)}},[]);m.useEffect(()=>{o()},[o]);const c=m.useCallback(async d=>{try{n(!0),i(null);const p=await re.updatePackages(d);e(p)}catch(p){throw console.error("Update packages error:",p),i(p instanceof Error?p.message:"Failed to update packages"),p}finally{n(!1)}},[]),r=m.useCallback(async d=>{try{n(!0),i(null);const p=await re.updateAutoDetect(d);e(p)}catch(p){throw console.error("Update auto-detect error:",p),i(p instanceof Error?p.message:"Failed to update auto-detect"),p}finally{n(!1)}},[]),h=m.useCallback(async()=>{try{n(!0),i(null);const d=await re.resetToDefaults();e(d)}catch(d){throw console.error("Reset settings error:",d),i(d instanceof Error?d.message:"Failed to reset settings"),d}finally{n(!1)}},[]);return{settings:a,loading:s,error:u,loadSettings:o,updatePackages:c,updateAutoDetect:r,resetToDefaults:h}}const{Text:me}=Pe,le=({name:a,value:e})=>{const s=String(e),n=typeof e=="string"&&(s.startsWith("#")||s.startsWith("rgb")||s.startsWith("hsl"));return t.jsx("div",{style:{marginBottom:12},children:t.jsxs(q,{align:"start",style:{width:"100%"},children:[n&&t.jsx("div",{style:{width:40,height:40,backgroundColor:s,border:"1px solid #d9d9d9",borderRadius:4,flexShrink:0}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx(me,{strong:!0,style:{display:"block"},children:a}),t.jsx(me,{type:"secondary",style:{fontSize:12,fontFamily:"monospace",display:"block",wordBreak:"break-all"},children:s})]})]})})},Dt=()=>{const{token:a}=Je.useToken(),e={},s={},n={},u={};Object.entries(a).forEach(([o,c])=>{const r=o.toLowerCase();r.includes("color")||r.includes("bg")?e[o]=c:r.includes("size")||r.includes("width")||r.includes("height")||r.includes("margin")||r.includes("padding")||r.includes("radius")?s[o]=c:r.includes("font")||r.includes("line")||r.includes("text")?n[o]=c:u[o]=c});const i=[{key:"colors",label:`Colors & Backgrounds (${Object.keys(e).length})`,children:t.jsx(te,{gutter:[16,16],children:Object.entries(e).map(([o,c])=>t.jsx(B,{xs:24,sm:12,md:8,lg:6,children:t.jsx(le,{name:o,value:c})},o))})},{key:"sizes",label:`Sizes & Spacing (${Object.keys(s).length})`,children:t.jsx(te,{gutter:[16,16],children:Object.entries(s).map(([o,c])=>t.jsx(B,{xs:24,sm:12,md:8,lg:6,children:t.jsx(le,{name:o,value:c})},o))})},{key:"fonts",label:`Typography (${Object.keys(n).length})`,children:t.jsx(te,{gutter:[16,16],children:Object.entries(n).map(([o,c])=>t.jsx(B,{xs:24,sm:12,md:8,lg:6,children:t.jsx(le,{name:o,value:c})},o))})},{key:"other",label:`Other Tokens (${Object.keys(u).length})`,children:t.jsx(te,{gutter:[16,16],children:Object.entries(u).map(([o,c])=>t.jsx(B,{xs:24,sm:12,md:8,lg:6,children:t.jsx(le,{name:o,value:c})},o))})}];return t.jsx(ee,{title:t.jsxs(q,{children:[t.jsx(Et,{}),"Theme Tokens"]}),children:t.jsxs(q,{orientation:"vertical",size:"middle",style:{width:"100%"},children:[t.jsx(me,{type:"secondary",children:"Explore all design tokens from the current Ant Design theme. These values are automatically generated based on your selected theme (light/dark) and can be used throughout the application."}),t.jsx(ft,{items:i,defaultActiveKey:[]})]})})},{Title:Y,Text:L,Paragraph:Z}=Pe,Lt=()=>{const a=Ye(),{theme:e,toggleTheme:s}=Ze(),{stats:n,loading:u,loadStats:i,clearFiles:o,clearCode:c,clearResults:r,clearSqlQueries:h,clearSqlResults:d,clearAllSqlData:p,clearAllData:S}=Mt(),{settings:g,loading:l,updatePackages:I,updateAutoDetect:A,resetToDefaults:T}=Nt(),w=()=>{F.confirm({title:"Clear All Files",icon:t.jsx(X,{}),content:"This will delete all uploaded files and their associated code and results. This action cannot be undone.",okText:"Clear Files",okType:"danger",onOk:async()=>{try{await o(),k.success("All files cleared successfully")}catch(y){console.error("Clear files error:",y),k.error("Failed to clear files")}}})},R=()=>{F.confirm({title:"Clear All Python Code",icon:t.jsx(X,{}),content:"This will delete all saved Python code. Uploaded files will remain. This action cannot be undone.",okText:"Clear Code",okType:"danger",onOk:async()=>{try{await c(),k.success("All Python code cleared successfully")}catch(y){console.error("Clear code error:",y),k.error("Failed to clear code")}}})},j=()=>{F.confirm({title:"Clear All Results",icon:t.jsx(X,{}),content:"This will delete all execution results. Files and code will remain. This action cannot be undone.",okText:"Clear Results",okType:"danger",onOk:async()=>{try{await r(),k.success("All results cleared successfully")}catch(y){console.error("Clear results error:",y),k.error("Failed to clear results")}}})},x=()=>{F.confirm({title:"Clear SQL Queries",icon:t.jsx(X,{}),content:"This will delete all SQL scripts. Results will remain. This action cannot be undone.",okText:"Clear Queries",okType:"danger",onOk:async()=>{try{await h(),k.success("SQL queries cleared successfully")}catch(y){console.error("Clear SQL queries error:",y),k.error("Failed to clear SQL queries")}}})},b=()=>{F.confirm({title:"Clear SQL Results",icon:t.jsx(X,{}),content:"This will delete all SQL query results. Queries will remain. This action cannot be undone.",okText:"Clear Results",okType:"danger",onOk:async()=>{try{await d(),k.success("SQL results cleared successfully")}catch(y){console.error("Clear SQL results error:",y),k.error("Failed to clear SQL results")}}})},C=()=>{F.confirm({title:"Clear All SQL Data",icon:t.jsx(X,{}),content:"This will delete all SQL scripts and results. This action cannot be undone.",okText:"Clear SQL Data",okType:"danger",onOk:async()=>{try{await p(),k.success("All SQL data cleared successfully")}catch(y){console.error("Clear all SQL data error:",y),k.error("Failed to clear all SQL data")}}})},v=()=>{F.confirm({title:"Clear All Data",icon:t.jsx(X,{}),content:"This will delete ALL data including files, code, SQL scripts, and results. Settings will be reset to defaults. This action cannot be undone.",okText:"Clear Everything",okType:"danger",onOk:async()=>{try{await S(),k.success("All data cleared successfully")}catch(y){console.error("Clear all data error:",y),k.error("Failed to clear all data")}}})},$=async y=>{try{await A(y),k.success(`Auto-detect ${y?"enabled":"disabled"}`)}catch(M){console.error("Update auto-detect error:",M),k.error("Failed to update auto-detect setting")}},N=async y=>{try{await I(y),k.success("Packages updated successfully")}catch(M){console.error("Update packages error:",M),k.error("Failed to update packages")}},P=()=>{F.confirm({title:"Reset to Defaults",content:"This will reset Python package settings to default values (pandas, numpy with auto-detect enabled).",okText:"Reset",onOk:async()=>{try{await T(),k.success("Settings reset to defaults")}catch(y){console.error("Reset defaults error:",y),k.error("Failed to reset settings")}}})};return t.jsxs(q,{orientation:"vertical",size:"large",style:{width:"100%"},children:[t.jsxs(ee,{children:[t.jsx(Y,{level:2,children:"Settings"}),t.jsx(Z,{children:"Configure your data analyzer preferences and manage storage."})]}),t.jsx(ee,{title:t.jsxs(q,{children:[t.jsx(zt,{}),"Appearance"]}),children:t.jsx(q,{orientation:"vertical",size:"middle",style:{width:"100%"},children:t.jsxs("div",{children:[t.jsx(Y,{level:4,children:"Theme"}),t.jsx(Z,{type:"secondary",children:"Choose your preferred color theme. Your selection will be saved and applied automatically."}),t.jsxs(ue.Group,{value:e,onChange:y=>{s(),k.success(`Switched to ${y.target.value} mode`)},buttonStyle:"solid",children:[t.jsx(ue.Button,{value:"light",children:"Light"}),t.jsx(ue.Button,{value:"dark",children:"Dark"})]})]})})}),t.jsx(Dt,{}),t.jsx(ee,{title:t.jsxs(q,{children:[t.jsx(tt,{}),"Storage Management"]}),extra:t.jsx(O,{icon:t.jsx(we,{}),onClick:i,loading:u,size:"small",children:"Refresh"}),children:t.jsxs(q,{orientation:"vertical",size:"large",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(Y,{level:4,children:"Storage Statistics"}),t.jsxs(te,{gutter:[16,16],children:[t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:"Total Size",value:n?G(n.total):"0 B",loading:u})}),t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:`Files (${(n==null?void 0:n.counts.files)||0})`,value:n?G(n.files):"0 B",loading:u})}),t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:`Python Code (${(n==null?void 0:n.counts.pythonScripts)||0})`,value:n?G(n.pythonCode):"0 B",loading:u})}),t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:`Python Results (${(n==null?void 0:n.counts.pythonResults)||0})`,value:n?G(n.executionResults):"0 B",loading:u})}),t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:`SQL Scripts (${(n==null?void 0:n.counts.sqlScripts)||0})`,value:n?G(n.sqlQueries):"0 B",loading:u})}),t.jsx(B,{xs:24,sm:12,md:6,children:t.jsx(U,{title:`SQL Results (${(n==null?void 0:n.counts.sqlResults)||0})`,value:n?G(n.sqlQueryResults):"0 B",loading:u})})]}),n&&n.fileDetails.length>0&&t.jsx("div",{style:{marginTop:24},children:t.jsxs(q,{orientation:"vertical",style:{width:"100%"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(L,{strong:!0,children:"File Breakdown"}),t.jsx(O,{size:"small",icon:t.jsx(et,{}),onClick:()=>a("/files"),children:"View All Files"})]}),t.jsx("div",{children:t.jsx(q,{size:[8,8],wrap:!0,children:Object.entries(n.fileTypeCounts).map(([y,M])=>t.jsxs($e,{color:y==="csv"?"green":y==="json"?"blue":y==="xlsx"?"orange":"purple",children:[M," ",y.toUpperCase()]},y))})}),n.fileDetails.length>0&&t.jsxs("div",{children:[t.jsx(L,{type:"secondary",children:"Top Files by Size:"}),t.jsx("ul",{style:{marginTop:8,paddingLeft:20},children:n.fileDetails.slice(0,5).map(y=>t.jsxs("li",{children:[t.jsx(L,{children:y.name}),t.jsxs(L,{type:"secondary",children:[" - ",G(y.size)]})]},y.id))})]})]})})]}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx(Y,{level:4,children:"Clear Data"}),t.jsx(be,{message:"Warning",description:"Clear operations are permanent and cannot be undone. Make sure to export any important data before clearing.",type:"warning",showIcon:!0,style:{marginBottom:16}}),t.jsxs(q,{orientation:"vertical",size:"middle",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(L,{strong:!0,children:"Python Data"}),t.jsx("div",{style:{marginTop:8},children:t.jsxs(q,{wrap:!0,children:[t.jsx(O,{icon:t.jsx(V,{}),onClick:R,danger:!0,children:"Clear Python Code"}),t.jsx(O,{icon:t.jsx(V,{}),onClick:j,danger:!0,children:"Clear Python Results"})]})})]}),t.jsxs("div",{children:[t.jsx(L,{strong:!0,children:"SQL Data"}),t.jsx("div",{style:{marginTop:8},children:t.jsxs(q,{wrap:!0,children:[t.jsx(O,{icon:t.jsx(V,{}),onClick:x,danger:!0,children:"Clear SQL Scripts"}),t.jsx(O,{icon:t.jsx(V,{}),onClick:b,danger:!0,children:"Clear SQL Results"}),t.jsx(O,{icon:t.jsx(V,{}),onClick:C,danger:!0,children:"Clear All SQL Data"})]})})]}),t.jsxs("div",{children:[t.jsx(L,{strong:!0,children:"All Data"}),t.jsx("div",{style:{marginTop:8},children:t.jsxs(q,{wrap:!0,children:[t.jsx(O,{icon:t.jsx(V,{}),onClick:w,danger:!0,children:"Clear Files"}),t.jsx(O,{icon:t.jsx(V,{}),onClick:v,danger:!0,type:"primary",children:"Clear Everything"})]})})]})]})]})]})}),t.jsx(ee,{title:"Python Package Settings",extra:t.jsx(O,{icon:t.jsx(we,{}),onClick:P,size:"small",children:"Reset to Defaults"}),children:t.jsxs(q,{orientation:"vertical",size:"large",style:{width:"100%"},children:[t.jsx("div",{children:t.jsxs(q,{align:"start",children:[t.jsx(Ne,{checked:(g==null?void 0:g.autoDetect)??!0,onChange:$,loading:l,checkedChildren:t.jsx(nt,{})}),t.jsxs("div",{children:[t.jsx(L,{strong:!0,children:"Auto-detect packages from imports"}),t.jsx("br",{}),t.jsx(L,{type:"secondary",children:"When enabled, Pyodide will automatically load packages based on import statements in your code. This is the recommended setting for most users."})]})]})}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx(Y,{level:4,children:"Pre-load Packages"}),t.jsx(Z,{type:"secondary",children:"Select Python packages to pre-load when Pyodide initializes. These packages will be available immediately without needing to wait for auto-detection."}),t.jsx(Ce,{mode:"multiple",style:{width:"100%"},placeholder:"Select packages to pre-load",value:(g==null?void 0:g.packages)??[],onChange:N,loading:l,disabled:l,children:qt.map(y=>t.jsx(Ce.Option,{value:y,children:y},y))}),t.jsxs("div",{style:{marginTop:8},children:[t.jsx(L,{type:"secondary",children:"Currently selected: "}),((g==null?void 0:g.packages)??[]).length>0?g==null?void 0:g.packages.map(y=>t.jsx($e,{color:"blue",children:y},y)):t.jsx(L,{type:"secondary",children:"None"})]})]}),t.jsx(he,{}),t.jsx(be,{message:"Package Information",description:t.jsxs("div",{children:[t.jsx(Z,{children:"Available packages: pandas, numpy, matplotlib, scipy, scikit-learn, statsmodels, seaborn"}),t.jsx(Z,{children:"Note: Package loading happens in the Web Worker and may take a few seconds on first use. Auto-detection analyzes your import statements and loads packages dynamically."})]}),type:"info",showIcon:!0})]})})]})},Ut=m.memo(Lt);export{Ut as default};
