import{r as g,I as st,k as at,ac as Yr,b as U,ad as lt,ae as tr,af as Ke,n as L,s as Vr,S as $t,B as Kr}from"./index-esDgJzKA.js";import{d as Ht,s as ge,E as Sn,C as Gr}from"./fileValidation-rsoIHyRN.js";import{v as Jr,r as jt,I as Qr,b as Zr,c as eo,C as to}from"./index-DLjWVvLH.js";var no={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},so=function(t,n){return g.createElement(st,at({},t,{ref:n,icon:no}))},Sa=g.forwardRef(so),ao=function(t,n){return g.createElement(st,at({},t,{ref:n,icon:Yr}))},xa=g.forwardRef(ao),lo=function(t,n){return g.createElement(st,at({},t,{ref:n,icon:ro}))},co=g.forwardRef(lo),uo=function(t,n){return g.createElement(st,at({},t,{ref:n,icon:oo}))},Da=g.forwardRef(uo),fo=function(t,n){return g.createElement(st,at({},t,{ref:n,icon:io}))},Ca=g.forwardRef(fo);function xn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ho(e){if(Array.isArray(e))return e}function po(e,t,n){return(t=So(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function go(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,s,u=[],h=!0,p=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);h=!0);}catch(x){p=!0,o=x}finally{try{if(!h&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(p)throw o}}return u}}function vo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dn(Object(n),!0).forEach(function(r){po(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mo(e,t){if(e==null)return{};var n,r,o=bo(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bo(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yo(e,t){return ho(e)||go(e,t)||xo(e,t)||vo()}function wo(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(e){var t=wo(e,"string");return typeof t=="symbol"?t:t+""}function xo(e,t){if(e){if(typeof e=="string")return xn(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rn(Object(n),!0).forEach(function(r){Do(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Co(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function Ge(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return t.apply(n,[].concat(o,u))}}}function Rt(e){return{}.toString.call(e).includes("Object")}function Ro(e){return!Object.keys(e).length}function tt(e){return typeof e=="function"}function Oo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Eo(e,t){return Rt(t)||Re("changeType"),Object.keys(t).some(function(n){return!Oo(e,n)})&&Re("changeField"),t}function Mo(e){tt(e)||Re("selectorType")}function Po(e){tt(e)||Rt(e)||Re("handlerType"),Rt(e)&&Object.values(e).some(function(t){return!tt(t)})&&Re("handlersType")}function jo(e){e||Re("initialIsRequired"),Rt(e)||Re("initialType"),Ro(e)&&Re("initialContent")}function To(e,t){throw new Error(e[t]||e.default)}var zo={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Re=Ge(To)(zo),vt={changes:Eo,selector:Mo,handler:Po,initial:jo};function No(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vt.initial(e),vt.handler(t);var n={current:e},r=Ge(_o)(n,t),o=Ge(Io)(n),i=Ge(vt.changes)(e),s=Ge(Ao)(n);function u(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(x){return x};return vt.selector(p),p(n.current)}function h(p){Co(r,o,i,s)(p)}return[u,h]}function Ao(e,t){return tt(t)?t(e.current):t}function Io(e,t){return e.current=On(On({},e.current),t),t}function _o(e,t,n){return tt(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var ko={create:No},Lo={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Wo(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return t.apply(n,[].concat(o,u))}}}function $o(e){return{}.toString.call(e).includes("Object")}function Ho(e){return e||En("configIsRequired"),$o(e)||En("configType"),e.urls?(Fo(),{paths:{vs:e.urls.monacoBase}}):e}function Fo(){console.warn(nr.deprecation)}function Bo(e,t){throw new Error(e[t]||e.default)}var nr={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},En=Wo(Bo)(nr),qo={config:Ho},Uo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function rr(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],rr(e[n],t[n]))}),Cn(Cn({},e),t)}var Xo={type:"cancelation",msg:"operation is manually canceled"};function Ft(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(Xo):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var Yo=["monaco"],Vo=ko.create({config:Lo,isInitialized:!1,resolve:null,reject:null,monaco:null}),or=yo(Vo,2),ct=or[0],Tt=or[1];function Ko(e){var t=qo.config(e),n=t.monaco,r=mo(t,Yo);Tt(function(o){return{config:rr(o.config,r),monaco:n}})}function Go(){var e=ct(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(Tt({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ft(Bt);if(window.monaco&&window.monaco.editor)return ir(window.monaco),e.resolve(window.monaco),Ft(Bt);Uo(Jo,Zo)(ei)}return Ft(Bt)}function Jo(e){return document.body.appendChild(e)}function Qo(e){var t=document.createElement("script");return e&&(t.src=e),t}function Zo(e){var t=ct(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=Qo("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ei(){var e=ct(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;ir(r),e.resolve(r)},function(n){e.reject(n)})}function ir(e){ct().monaco||Tt({monaco:e})}function ti(){return ct(function(e){var t=e.monaco;return t})}var Bt=new Promise(function(e,t){return Tt({resolve:e,reject:t})}),sr={config:Ko,init:Go,__getMonacoInstance:ti},ni={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},qt=ni,ri={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},oi=ri;function ii({children:e}){return U.createElement("div",{style:oi.container},e)}var si=ii,ai=si;function li({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return U.createElement("section",{style:{...qt.wrapper,width:e,height:t},...s},!n&&U.createElement(ai,null,r),U.createElement("div",{ref:o,style:{...qt.fullWidth,...!n&&qt.hide},className:i}))}var ci=li,ar=g.memo(ci);function ui(e){g.useEffect(e,[])}var lr=ui;function di(e,t,n=!0){let r=g.useRef(!0);g.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var te=di;function Je(){}function Ne(e,t,n,r){return fi(e,r)||hi(e,t,n,r)}function fi(e,t){return e.editor.getModel(cr(e,t))}function hi(e,t,n,r){return e.editor.createModel(t,n,r?cr(e,r):void 0)}function cr(e,t){return e.Uri.parse(t)}function pi({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:h=!1,theme:p="light",loading:x="Loading...",options:v={},height:D="100%",width:C="100%",className:O,wrapperProps:w={},beforeMount:l=Je,onMount:c=Je}){let[d,f]=g.useState(!1),[y,S]=g.useState(!0),b=g.useRef(null),a=g.useRef(null),m=g.useRef(null),R=g.useRef(c),E=g.useRef(l),M=g.useRef(!1);lr(()=>{let P=sr.init();return P.then(j=>(a.current=j)&&S(!1)).catch(j=>(j==null?void 0:j.type)!=="cancelation"&&console.error("Monaco initialization: error:",j)),()=>b.current?k():P.cancel()}),te(()=>{if(b.current&&a.current){let P=b.current.getOriginalEditor(),j=Ne(a.current,e||"",r||n||"text",i||"");j!==P.getModel()&&P.setModel(j)}},[i],d),te(()=>{if(b.current&&a.current){let P=b.current.getModifiedEditor(),j=Ne(a.current,t||"",o||n||"text",s||"");j!==P.getModel()&&P.setModel(j)}},[s],d),te(()=>{let P=b.current.getModifiedEditor();P.getOption(a.current.editor.EditorOption.readOnly)?P.setValue(t||""):t!==P.getValue()&&(P.executeEdits("",[{range:P.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),P.pushUndoStop())},[t],d),te(()=>{var P,j;(j=(P=b.current)==null?void 0:P.getModel())==null||j.original.setValue(e||"")},[e],d),te(()=>{let{original:P,modified:j}=b.current.getModel();a.current.editor.setModelLanguage(P,r||n||"text"),a.current.editor.setModelLanguage(j,o||n||"text")},[n,r,o],d),te(()=>{var P;(P=a.current)==null||P.editor.setTheme(p)},[p],d),te(()=>{var P;(P=b.current)==null||P.updateOptions(v)},[v],d);let N=g.useCallback(()=>{var _;if(!a.current)return;E.current(a.current);let P=Ne(a.current,e||"",r||n||"text",i||""),j=Ne(a.current,t||"",o||n||"text",s||"");(_=b.current)==null||_.setModel({original:P,modified:j})},[n,t,o,e,r,i,s]),T=g.useCallback(()=>{var P;!M.current&&m.current&&(b.current=a.current.editor.createDiffEditor(m.current,{automaticLayout:!0,...v}),N(),(P=a.current)==null||P.editor.setTheme(p),f(!0),M.current=!0)},[v,p,N]);g.useEffect(()=>{d&&R.current(b.current,a.current)},[d]),g.useEffect(()=>{!y&&!d&&T()},[y,d,T]);function k(){var j,_,$,B;let P=(j=b.current)==null?void 0:j.getModel();u||((_=P==null?void 0:P.original)==null||_.dispose()),h||(($=P==null?void 0:P.modified)==null||$.dispose()),(B=b.current)==null||B.dispose()}return U.createElement(ar,{width:C,height:D,isEditorReady:d,loading:x,_ref:m,className:O,wrapperProps:w})}var gi=pi;g.memo(gi);function vi(e){let t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}var mi=vi,mt=new Map;function bi({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s="light",line:u,loading:h="Loading...",options:p={},overrideServices:x={},saveViewState:v=!0,keepCurrentModel:D=!1,width:C="100%",height:O="100%",className:w,wrapperProps:l={},beforeMount:c=Je,onMount:d=Je,onChange:f,onValidate:y=Je}){let[S,b]=g.useState(!1),[a,m]=g.useState(!0),R=g.useRef(null),E=g.useRef(null),M=g.useRef(null),N=g.useRef(d),T=g.useRef(c),k=g.useRef(),P=g.useRef(r),j=mi(i),_=g.useRef(!1),$=g.useRef(!1);lr(()=>{let A=sr.init();return A.then(z=>(R.current=z)&&m(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>E.current?Oe():A.cancel()}),te(()=>{var z,H,J,ne;let A=Ne(R.current,e||r||"",t||o||"",i||n||"");A!==((z=E.current)==null?void 0:z.getModel())&&(v&&mt.set(j,(H=E.current)==null?void 0:H.saveViewState()),(J=E.current)==null||J.setModel(A),v&&((ne=E.current)==null||ne.restoreViewState(mt.get(i))))},[i],S),te(()=>{var A;(A=E.current)==null||A.updateOptions(p)},[p],S),te(()=>{!E.current||r===void 0||(E.current.getOption(R.current.editor.EditorOption.readOnly)?E.current.setValue(r):r!==E.current.getValue()&&($.current=!0,E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),E.current.pushUndoStop(),$.current=!1))},[r],S),te(()=>{var z,H;let A=(z=E.current)==null?void 0:z.getModel();A&&o&&((H=R.current)==null||H.editor.setModelLanguage(A,o))},[o],S),te(()=>{var A;u!==void 0&&((A=E.current)==null||A.revealLine(u))},[u],S),te(()=>{var A;(A=R.current)==null||A.editor.setTheme(s)},[s],S);let B=g.useCallback(()=>{var A;if(!(!M.current||!R.current)&&!_.current){T.current(R.current);let z=i||n,H=Ne(R.current,r||e||"",t||o||"",z||"");E.current=(A=R.current)==null?void 0:A.editor.create(M.current,{model:H,automaticLayout:!0,...p},x),v&&E.current.restoreViewState(mt.get(z)),R.current.editor.setTheme(s),u!==void 0&&E.current.revealLine(u),b(!0),_.current=!0}},[e,t,n,r,o,i,p,x,v,s,u]);g.useEffect(()=>{S&&N.current(E.current,R.current)},[S]),g.useEffect(()=>{!a&&!S&&B()},[a,S,B]),P.current=r,g.useEffect(()=>{var A,z;S&&f&&((A=k.current)==null||A.dispose(),k.current=(z=E.current)==null?void 0:z.onDidChangeModelContent(H=>{$.current||f(E.current.getValue(),H)}))},[S,f]),g.useEffect(()=>{if(S){let A=R.current.editor.onDidChangeMarkers(z=>{var J;let H=(J=E.current.getModel())==null?void 0:J.uri;if(H&&z.find(ne=>ne.path===H.path)){let ne=R.current.editor.getModelMarkers({resource:H});y==null||y(ne)}});return()=>{A==null||A.dispose()}}return()=>{}},[S,y]);function Oe(){var A,z;(A=k.current)==null||A.dispose(),D?v&&mt.set(i,E.current.saveViewState()):(z=E.current.getModel())==null||z.dispose(),E.current.dispose()}return U.createElement(ar,{width:C,height:O,isEditorReady:S,loading:h,_ref:M,className:w,wrapperProps:l})}var yi=bi,wi=g.memo(yi),Ra=wi;class q{static async getPreferences(t){return Ht.tablePreferences.where("fileId").equals(t).first()}static async savePreferences(t,n,r,o,i){const s=this.generateColumnHash(i),u=await this.getPreferences(t),h={id:(u==null?void 0:u.id)||Jr(),fileId:t,selectedColumns:n,columnOrder:r,columnWidths:o,columnHash:s,updatedAt:new Date};return await Ht.tablePreferences.put(h),h}static async updateSelectedColumns(t,n,r){const o=await this.getPreferences(t),i=(o==null?void 0:o.columnWidths)||{},s=(o==null?void 0:o.columnOrder)||r;return this.savePreferences(t,n,s,i,r)}static async updateColumnWidths(t,n,r){const o=await this.getPreferences(t);if(!o)throw new Error("No preferences exist for this file");return this.savePreferences(t,o.selectedColumns,o.columnOrder,n,r)}static async updateColumnWidth(t,n,r,o){const i=await this.getPreferences(t);if(!i)throw new Error("No preferences exist for this file");const s=this.clampColumnWidth(r),u={...i.columnWidths,[n]:s};return this.savePreferences(t,i.selectedColumns,i.columnOrder,u,o)}static async updateColumnOrder(t,n,r){const o=await this.getPreferences(t);if(!o)throw new Error("No preferences exist for this file");return this.savePreferences(t,o.selectedColumns,n,o.columnWidths,r)}static async deletePreferences(t){await Ht.tablePreferences.where("fileId").equals(t).delete()}static generateColumnHash(t){return t.sort().join("|")}static validateColumns(t,n){const r=new Set(n);return t.filter(o=>r.has(o))}static getDefaultColumns(t){if(t.length<=10)return t;const n=t.slice(0,5),r=t.slice(-5);return[...new Set([...n,...r])]}static getDefaultColumnWidths(t){const n={};return t.forEach(r=>{n[r]=150}),n}static clampColumnWidth(t){return Math.max(50,Math.min(800,t))}static hasColumnStructureChanged(t,n){const r=this.generateColumnHash(n);return t.columnHash!==r}static async resetToDefaults(t,n){const r=this.getDefaultColumns(n),o=this.getDefaultColumnWidths(r),i=n;return this.savePreferences(t,r,i,o,n)}static applyColumnOrder(t,n){const r=new Set(t),o=n.filter(s=>r.has(s)),i=t.filter(s=>!n.includes(s));return[...o,...i]}}function Si(e,t){const[n,r]=g.useState([]),[o,i]=g.useState([]),[s,u]=g.useState({}),[h,p]=g.useState(!1),[x,v]=g.useState(null),D=g.useRef(void 0),C=g.useCallback(async()=>{if(!e||t.length===0){r([]),i([]),u({});return}try{p(!0),v(null);const f=await q.getPreferences(e);if(f)if(q.hasColumnStructureChanged(f,t)){const S=q.getDefaultColumns(t),b=q.getDefaultColumnWidths(S),a=t;r(S),i(a),u(b),await q.savePreferences(e,S,a,b,t),ge.info("Column structure changed, reset to defaults")}else{const S=q.validateColumns(f.selectedColumns,t),b=f.columnOrder?q.applyColumnOrder(t,f.columnOrder):t;if(S.length===0){const a=q.getDefaultColumns(t),m=q.getDefaultColumnWidths(a);r(a),i(b),u(m)}else r(S),i(b),u(f.columnWidths)}else{const y=q.getDefaultColumns(t),S=q.getDefaultColumnWidths(y),b=t;r(y),i(b),u(S)}}catch(f){console.error("Load preferences error:",f),v(f instanceof Error?f.message:"Failed to load preferences");const y=q.getDefaultColumns(t),S=q.getDefaultColumnWidths(y),b=t;r(y),i(b),u(S)}finally{p(!1)}},[e,t]);g.useEffect(()=>{C()},[C]);const O=g.useCallback(async f=>{if(e)try{p(!0),v(null),await q.updateSelectedColumns(e,f,t),r(f),ge.success("Column selection saved")}catch(y){throw console.error("Update preferences error:",y),v(y instanceof Error?y.message:"Failed to update preferences"),ge.error("Failed to save column selection"),y}finally{p(!1)}},[e,t]),w=g.useCallback((f,y)=>{e&&(u(S=>({...S,[f]:y})),D.current&&clearTimeout(D.current),D.current=window.setTimeout(async()=>{try{await q.updateColumnWidth(e,f,y,t)}catch(S){console.error("Update column width error:",S),ge.error("Failed to save column width")}},300))},[e,t]),l=g.useCallback(async f=>{if(e)try{p(!0),v(null),await q.updateColumnWidths(e,f,t),u(f)}catch(y){throw console.error("Update column widths error:",y),v(y instanceof Error?y.message:"Failed to update column widths"),ge.error("Failed to save column widths"),y}finally{p(!1)}},[e,t]),c=g.useCallback(async()=>{if(e)try{p(!0),v(null);const f=q.getDefaultColumns(t),y=q.getDefaultColumnWidths(f),S=t;await q.savePreferences(e,f,S,y,t),r(f),i(S),u(y),ge.success("Reset to default columns (first 5 + last 5)")}catch(f){throw console.error("Reset preferences error:",f),v(f instanceof Error?f.message:"Failed to reset preferences"),ge.error("Failed to reset to defaults"),f}finally{p(!1)}},[e,t]),d=g.useCallback(async f=>{if(e)try{p(!0),v(null),await q.updateColumnOrder(e,f,t),i(f),ge.success("Column order saved")}catch(y){throw console.error("Update column order error:",y),v(y instanceof Error?y.message:"Failed to update column order"),ge.error("Failed to save column order"),y}finally{p(!1)}},[e,t]);return g.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]),{selectedColumns:n,columnOrder:o,columnWidths:s,loading:h,error:x,updateSelectedColumns:O,updateColumnOrder:d,updateColumnWidth:w,updateColumnWidths:l,resetToDefaults:c}}var Be={exports:{}},qe={},Ue={exports:{}},Ut={},bt={exports:{}},Mn;function xi(){if(Mn)return bt.exports;Mn=1;function e(n){var r,o,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(r=0;r<s;r++)n[r]&&(o=e(n[r]))&&(i&&(i+=" "),i+=o)}else for(o in n)n[o]&&(i&&(i+=" "),i+=o);return i}function t(){for(var n,r,o=0,i="",s=arguments.length;o<s;o++)(n=arguments[o])&&(r=e(n))&&(i&&(i+=" "),i+=r);return i}return bt.exports=t,bt.exports.clsx=t,bt.exports}var F={},xe={},Pn;function zt(){if(Pn)return xe;Pn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.dontSetMe=o,xe.findInArray=e,xe.int=r,xe.isFunction=t,xe.isNum=n;function e(i,s){for(let u=0,h=i.length;u<h;u++)if(s.apply(s,[i[u],u,i]))return i[u]}function t(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function n(i){return typeof i=="number"&&!isNaN(i)}function r(i){return parseInt(i,10)}function o(i,s,u){if(i[s])return new Error(`Invalid prop ${s} passed to ${u} - do not set this, set it on the child.`)}return xe}var De={},jn;function Di(){if(jn)return De;jn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.browserPrefixToKey=n,De.browserPrefixToStyle=r,De.default=void 0,De.getPrefix=t;const e=["Moz","Webkit","O","ms"];function t(){var u,h;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const s=(h=(u=window.document)==null?void 0:u.documentElement)==null?void 0:h.style;if(!s||i in s)return"";for(let p=0;p<e.length;p++)if(n(i,e[p])in s)return e[p];return""}function n(i,s){return s?`${s}${o(i)}`:i}function r(i,s){return s?`-${s.toLowerCase()}-${i}`:i}function o(i){let s="",u=!0;for(let h=0;h<i.length;h++)u?(s+=i[h].toUpperCase(),u=!1):i[h]==="-"?u=!0:s+=i[h];return s}return De.default=t(),De}var Tn;function nn(){if(Tn)return F;Tn=1,Object.defineProperty(F,"__esModule",{value:!0}),F.addClassName=S,F.addEvent=s,F.addUserSelectStyles=d,F.createCSSTransform=C,F.createSVGTransform=O,F.getTouch=l,F.getTouchIdentifier=c,F.getTranslation=w,F.innerHeight=x,F.innerWidth=v,F.matchesSelector=o,F.matchesSelectorAndParentsTo=i,F.offsetXYFromParent=D,F.outerHeight=h,F.outerWidth=p,F.removeClassName=b,F.removeEvent=u,F.scheduleRemoveUserSelectStyles=f;var e=zt(),t=n(Di());function n(a,m){if(typeof WeakMap=="function")var R=new WeakMap,E=new WeakMap;return(n=function(M,N){if(!N&&M&&M.__esModule)return M;var T,k,P={__proto__:null,default:M};if(M===null||typeof M!="object"&&typeof M!="function")return P;if(T=N?E:R){if(T.has(M))return T.get(M);T.set(M,P)}for(const j in M)j!=="default"&&{}.hasOwnProperty.call(M,j)&&((k=(T=Object.defineProperty)&&Object.getOwnPropertyDescriptor(M,j))&&(k.get||k.set)?T(P,j,k):P[j]=M[j]);return P})(a,m)}let r="";function o(a,m){return r||(r=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(R){return(0,e.isFunction)(a[R])})),(0,e.isFunction)(a[r])?a[r](m):!1}function i(a,m,R){let E=a;do{if(o(E,m))return!0;if(E===R)return!1;E=E.parentNode}while(E);return!1}function s(a,m,R,E){if(!a)return;const M={capture:!0,...E};a.addEventListener?a.addEventListener(m,R,M):a.attachEvent?a.attachEvent("on"+m,R):a["on"+m]=R}function u(a,m,R,E){if(!a)return;const M={capture:!0,...E};a.removeEventListener?a.removeEventListener(m,R,M):a.detachEvent?a.detachEvent("on"+m,R):a["on"+m]=null}function h(a){let m=a.clientHeight;const R=a.ownerDocument.defaultView.getComputedStyle(a);return m+=(0,e.int)(R.borderTopWidth),m+=(0,e.int)(R.borderBottomWidth),m}function p(a){let m=a.clientWidth;const R=a.ownerDocument.defaultView.getComputedStyle(a);return m+=(0,e.int)(R.borderLeftWidth),m+=(0,e.int)(R.borderRightWidth),m}function x(a){let m=a.clientHeight;const R=a.ownerDocument.defaultView.getComputedStyle(a);return m-=(0,e.int)(R.paddingTop),m-=(0,e.int)(R.paddingBottom),m}function v(a){let m=a.clientWidth;const R=a.ownerDocument.defaultView.getComputedStyle(a);return m-=(0,e.int)(R.paddingLeft),m-=(0,e.int)(R.paddingRight),m}function D(a,m,R){const M=m===m.ownerDocument.body?{left:0,top:0}:m.getBoundingClientRect(),N=(a.clientX+m.scrollLeft-M.left)/R,T=(a.clientY+m.scrollTop-M.top)/R;return{x:N,y:T}}function C(a,m){const R=w(a,m,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:R}}function O(a,m){return w(a,m,"")}function w(a,m,R){let{x:E,y:M}=a,N=`translate(${E}${R},${M}${R})`;if(m){const T=`${typeof m.x=="string"?m.x:m.x+R}`,k=`${typeof m.y=="string"?m.y:m.y+R}`;N=`translate(${T}, ${k})`+N}return N}function l(a,m){return a.targetTouches&&(0,e.findInArray)(a.targetTouches,R=>m===R.identifier)||a.changedTouches&&(0,e.findInArray)(a.changedTouches,R=>m===R.identifier)}function c(a){if(a.targetTouches&&a.targetTouches[0])return a.targetTouches[0].identifier;if(a.changedTouches&&a.changedTouches[0])return a.changedTouches[0].identifier}function d(a){if(!a)return;let m=a.getElementById("react-draggable-style-el");m||(m=a.createElement("style"),m.type="text/css",m.id="react-draggable-style-el",m.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,m.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,a.getElementsByTagName("head")[0].appendChild(m)),a.body&&S(a.body,"react-draggable-transparent-selection")}function f(a){window.requestAnimationFrame?window.requestAnimationFrame(()=>{y(a)}):y(a)}function y(a){if(a)try{if(a.body&&b(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{const m=(a.defaultView||window).getSelection();m&&m.type!=="Caret"&&m.removeAllRanges()}}catch{}}function S(a,m){a.classList?a.classList.add(m):a.className.match(new RegExp(`(?:^|\\s)${m}(?!\\S)`))||(a.className+=` ${m}`)}function b(a,m){a.classList?a.classList.remove(m):a.className=a.className.replace(new RegExp(`(?:^|\\s)${m}(?!\\S)`,"g"),"")}return F}var ue={},zn;function ur(){if(zn)return ue;zn=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.canDragX=o,ue.canDragY=i,ue.createCoreData=u,ue.createDraggableData=h,ue.getBoundPosition=n,ue.getControlPosition=s,ue.snapToGrid=r;var e=zt(),t=nn();function n(v,D,C){if(!v.props.bounds)return[D,C];let{bounds:O}=v.props;O=typeof O=="string"?O:p(O);const w=x(v);if(typeof O=="string"){const{ownerDocument:l}=w,c=l.defaultView;let d;if(O==="parent"?d=w.parentNode:d=w.getRootNode().querySelector(O),!(d instanceof c.HTMLElement))throw new Error('Bounds selector "'+O+'" could not find an element.');const f=d,y=c.getComputedStyle(w),S=c.getComputedStyle(f);O={left:-w.offsetLeft+(0,e.int)(S.paddingLeft)+(0,e.int)(y.marginLeft),top:-w.offsetTop+(0,e.int)(S.paddingTop)+(0,e.int)(y.marginTop),right:(0,t.innerWidth)(f)-(0,t.outerWidth)(w)-w.offsetLeft+(0,e.int)(S.paddingRight)-(0,e.int)(y.marginRight),bottom:(0,t.innerHeight)(f)-(0,t.outerHeight)(w)-w.offsetTop+(0,e.int)(S.paddingBottom)-(0,e.int)(y.marginBottom)}}return(0,e.isNum)(O.right)&&(D=Math.min(D,O.right)),(0,e.isNum)(O.bottom)&&(C=Math.min(C,O.bottom)),(0,e.isNum)(O.left)&&(D=Math.max(D,O.left)),(0,e.isNum)(O.top)&&(C=Math.max(C,O.top)),[D,C]}function r(v,D,C){const O=Math.round(D/v[0])*v[0],w=Math.round(C/v[1])*v[1];return[O,w]}function o(v){return v.props.axis==="both"||v.props.axis==="x"}function i(v){return v.props.axis==="both"||v.props.axis==="y"}function s(v,D,C){const O=typeof D=="number"?(0,t.getTouch)(v,D):null;if(typeof D=="number"&&!O)return null;const w=x(C),l=C.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,t.offsetXYFromParent)(O||v,l,C.props.scale)}function u(v,D,C){const O=!(0,e.isNum)(v.lastX),w=x(v);return O?{node:w,deltaX:0,deltaY:0,lastX:D,lastY:C,x:D,y:C}:{node:w,deltaX:D-v.lastX,deltaY:C-v.lastY,lastX:v.lastX,lastY:v.lastY,x:D,y:C}}function h(v,D){const C=v.props.scale;return{node:D.node,x:v.state.x+D.deltaX/C,y:v.state.y+D.deltaY/C,deltaX:D.deltaX/C,deltaY:D.deltaY/C,lastX:v.state.x,lastY:v.state.y}}function p(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}}function x(v){const D=v.findDOMNode();if(!D)throw new Error("<DraggableCore>: Unmounted during event!");return D}return ue}var Xe={},yt={},Nn;function dr(){if(Nn)return yt;Nn=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=e;function e(){}return yt}var An;function Ci(){if(An)return Xe;An=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var e=h(lt()),t=u(jt()),n=u(tr()),r=nn(),o=ur(),i=zt(),s=u(dr());function u(w){return w&&w.__esModule?w:{default:w}}function h(w,l){if(typeof WeakMap=="function")var c=new WeakMap,d=new WeakMap;return(h=function(f,y){if(!y&&f&&f.__esModule)return f;var S,b,a={__proto__:null,default:f};if(f===null||typeof f!="object"&&typeof f!="function")return a;if(S=y?d:c){if(S.has(f))return S.get(f);S.set(f,a)}for(const m in f)m!=="default"&&{}.hasOwnProperty.call(f,m)&&((b=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,m))&&(b.get||b.set)?S(a,m,b):a[m]=f[m]);return a})(w,l)}function p(w,l,c){return(l=x(l))in w?Object.defineProperty(w,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):w[l]=c,w}function x(w){var l=v(w,"string");return typeof l=="symbol"?l:l+""}function v(w,l){if(typeof w!="object"||!w)return w;var c=w[Symbol.toPrimitive];if(c!==void 0){var d=c.call(w,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(w)}const D={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let C=D.mouse,O=class extends e.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",l=>{if(this.props.onMouseDown(l),!this.props.allowAnyClick&&typeof l.button=="number"&&l.button!==0)return!1;const c=this.findDOMNode();if(!c||!c.ownerDocument||!c.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:d}=c;if(this.props.disabled||!(l.target instanceof d.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(l.target,this.props.handle,c)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(l.target,this.props.cancel,c))return;l.type==="touchstart"&&!this.props.allowMobileScroll&&l.preventDefault();const f=(0,r.getTouchIdentifier)(l);this.touchIdentifier=f;const y=(0,o.getControlPosition)(l,f,this);if(y==null)return;const{x:S,y:b}=y,a=(0,o.createCoreData)(this,S,b);(0,s.default)("DraggableCore: handleDragStart: %j",a),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(l,a)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(d),this.dragging=!0,this.lastX=S,this.lastY=b,(0,r.addEvent)(d,C.move,this.handleDrag),(0,r.addEvent)(d,C.stop,this.handleDragStop))}),p(this,"handleDrag",l=>{const c=(0,o.getControlPosition)(l,this.touchIdentifier,this);if(c==null)return;let{x:d,y:f}=c;if(Array.isArray(this.props.grid)){let b=d-this.lastX,a=f-this.lastY;if([b,a]=(0,o.snapToGrid)(this.props.grid,b,a),!b&&!a)return;d=this.lastX+b,f=this.lastY+a}const y=(0,o.createCoreData)(this,d,f);if((0,s.default)("DraggableCore: handleDrag: %j",y),this.props.onDrag(l,y)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(a)}return}this.lastX=d,this.lastY=f}),p(this,"handleDragStop",l=>{if(!this.dragging)return;const c=(0,o.getControlPosition)(l,this.touchIdentifier,this);if(c==null)return;let{x:d,y:f}=c;if(Array.isArray(this.props.grid)){let a=d-this.lastX||0,m=f-this.lastY||0;[a,m]=(0,o.snapToGrid)(this.props.grid,a,m),d=this.lastX+a,f=this.lastY+m}const y=(0,o.createCoreData)(this,d,f);if(this.props.onStop(l,y)===!1||this.mounted===!1)return!1;const b=this.findDOMNode();b&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(b.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",y),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,b&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(b.ownerDocument,C.move,this.handleDrag),(0,r.removeEvent)(b.ownerDocument,C.stop,this.handleDragStop))}),p(this,"onMouseDown",l=>(C=D.mouse,this.handleDragStart(l))),p(this,"onMouseUp",l=>(C=D.mouse,this.handleDragStop(l))),p(this,"onTouchStart",l=>(C=D.touch,this.handleDragStart(l))),p(this,"onTouchEnd",l=>(C=D.touch,this.handleDragStop(l)))}componentDidMount(){this.mounted=!0;const l=this.findDOMNode();l&&(0,r.addEvent)(l,D.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const l=this.findDOMNode();if(l){const{ownerDocument:c}=l;(0,r.removeEvent)(c,D.mouse.move,this.handleDrag),(0,r.removeEvent)(c,D.touch.move,this.handleDrag),(0,r.removeEvent)(c,D.mouse.stop,this.handleDragStop),(0,r.removeEvent)(c,D.touch.stop,this.handleDragStop),(0,r.removeEvent)(l,D.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(c)}}findDOMNode(){var l,c,d;return(l=this.props)!=null&&l.nodeRef?(d=(c=this.props)==null?void 0:c.nodeRef)==null?void 0:d.current:n.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Xe.default=O,p(O,"displayName","DraggableCore"),p(O,"propTypes",{allowAnyClick:t.default.bool,allowMobileScroll:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(w,l){if(w[l]&&w[l].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),p(O,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Xe}var In;function Ri(){return In||(In=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var t=v(lt()),n=x(jt()),r=x(tr()),o=xi(),i=nn(),s=ur(),u=zt(),h=x(Ci()),p=x(dr());function x(c){return c&&c.__esModule?c:{default:c}}function v(c,d){if(typeof WeakMap=="function")var f=new WeakMap,y=new WeakMap;return(v=function(S,b){if(!b&&S&&S.__esModule)return S;var a,m,R={__proto__:null,default:S};if(S===null||typeof S!="object"&&typeof S!="function")return R;if(a=b?y:f){if(a.has(S))return a.get(S);a.set(S,R)}for(const E in S)E!=="default"&&{}.hasOwnProperty.call(S,E)&&((m=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(S,E))&&(m.get||m.set)?a(R,E,m):R[E]=S[E]);return R})(c,d)}function D(){return D=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var y in f)({}).hasOwnProperty.call(f,y)&&(c[y]=f[y])}return c},D.apply(null,arguments)}function C(c,d,f){return(d=O(d))in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f,c}function O(c){var d=w(c,"string");return typeof d=="symbol"?d:d+""}function w(c,d){if(typeof c!="object"||!c)return c;var f=c[Symbol.toPrimitive];if(f!==void 0){var y=f.call(c,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}class l extends t.Component{static getDerivedStateFromProps(d,f){let{position:y}=d,{prevPropsPosition:S}=f;return y&&(!S||y.x!==S.x||y.y!==S.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:S}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(d){super(d),C(this,"onDragStart",(f,y)=>{if((0,p.default)("Draggable: onDragStart: %j",y),this.props.onStart(f,(0,s.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),C(this,"onDrag",(f,y)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",y);const S=(0,s.createDraggableData)(this,y),b={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:m,y:R}=b;b.x+=this.state.slackX,b.y+=this.state.slackY;const[E,M]=(0,s.getBoundPosition)(this,b.x,b.y);b.x=E,b.y=M,b.slackX=this.state.slackX+(m-b.x),b.slackY=this.state.slackY+(R-b.y),S.x=b.x,S.y=b.y,S.deltaX=b.x-this.state.x,S.deltaY=b.y-this.state.y}if(this.props.onDrag(f,S)===!1)return!1;this.setState(b)}),C(this,"onDragStop",(f,y)=>{if(!this.state.dragging||this.props.onStop(f,(0,s.createDraggableData)(this,y))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",y);const b={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:m,y:R}=this.props.position;b.x=m,b.y=R}this.setState(b)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var d,f;return((f=(d=this.props)==null?void 0:d.nodeRef)==null?void 0:f.current)??r.default.findDOMNode(this)}render(){const{axis:d,bounds:f,children:y,defaultPosition:S,defaultClassName:b,defaultClassNameDragging:a,defaultClassNameDragged:m,position:R,positionOffset:E,scale:M,...N}=this.props;let T={},k=null;const j=!!!R||this.state.dragging,_=R||S,$={x:(0,s.canDragX)(this)&&j?this.state.x:_.x,y:(0,s.canDragY)(this)&&j?this.state.y:_.y};this.state.isElementSVG?k=(0,i.createSVGTransform)($,E):T=(0,i.createCSSTransform)($,E);const B=(0,o.clsx)(y.props.className||"",b,{[a]:this.state.dragging,[m]:this.state.dragged});return t.createElement(h.default,D({},N,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(y),{className:B,style:{...y.props.style,...T},transform:k}))}}e.default=l,C(l,"displayName","Draggable"),C(l,"propTypes",{...h.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),C(l,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ut)),Ut}var _n;function fr(){if(_n)return Ue.exports;_n=1;const{default:e,DraggableCore:t}=Ri();return Ue.exports=e,Ue.exports.default=e,Ue.exports.DraggableCore=t,Ue.exports}var wt={},kn;function Oi(){if(kn)return wt;kn=1,wt.__esModule=!0,wt.cloneElement=u;var e=t(lt());function t(h){return h&&h.__esModule?h:{default:h}}function n(h,p){var x=Object.keys(h);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(h);p&&(v=v.filter(function(D){return Object.getOwnPropertyDescriptor(h,D).enumerable})),x.push.apply(x,v)}return x}function r(h){for(var p=1;p<arguments.length;p++){var x=arguments[p]!=null?arguments[p]:{};p%2?n(Object(x),!0).forEach(function(v){o(h,v,x[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(x)):n(Object(x)).forEach(function(v){Object.defineProperty(h,v,Object.getOwnPropertyDescriptor(x,v))})}return h}function o(h,p,x){return(p=i(p))in h?Object.defineProperty(h,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):h[p]=x,h}function i(h){var p=s(h,"string");return typeof p=="symbol"?p:p+""}function s(h,p){if(typeof h!="object"||!h)return h;var x=h[Symbol.toPrimitive];if(x!==void 0){var v=x.call(h,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)}function u(h,p){return p.style&&h.props.style&&(p.style=r(r({},h.props.style),p.style)),p.className&&h.props.className&&(p.className=`${h.props.className} ${p.className}`),e.default.cloneElement(h,p)}return wt}var Ye={},Ln;function hr(){if(Ln)return Ye;Ln=1,Ye.__esModule=!0,Ye.resizableProps=void 0;var e=t(jt());fr();function t(n){return n&&n.__esModule?n:{default:n}}return Ye.resizableProps={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:typeof Element<"u"?e.default.instanceOf(Element):e.default.any,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const[i]=r;return i.axis==="both"||i.axis==="y"?e.default.number.isRequired(...r):e.default.number(...r)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const[i]=r;return i.axis==="both"||i.axis==="x"?e.default.number.isRequired(...r):e.default.number(...r)}},Ye}var Wn;function pr(){if(Wn)return qe;Wn=1,qe.__esModule=!0,qe.default=void 0;var e=i(lt()),t=fr(),n=Oi(),r=hr();const o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function i(w,l){if(typeof WeakMap=="function")var c=new WeakMap,d=new WeakMap;return(i=function(f,y){if(!y&&f&&f.__esModule)return f;var S,b,a={__proto__:null,default:f};if(f===null||typeof f!="object"&&typeof f!="function")return a;if(S=y?d:c){if(S.has(f))return S.get(f);S.set(f,a)}for(const m in f)m!=="default"&&{}.hasOwnProperty.call(f,m)&&((b=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,m))&&(b.get||b.set)?S(a,m,b):a[m]=f[m]);return a})(w,l)}function s(){return s=Object.assign?Object.assign.bind():function(w){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)({}).hasOwnProperty.call(c,d)&&(w[d]=c[d])}return w},s.apply(null,arguments)}function u(w,l){if(w==null)return{};var c,d,f=h(w,l);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(w);for(d=0;d<y.length;d++)c=y[d],l.indexOf(c)===-1&&{}.propertyIsEnumerable.call(w,c)&&(f[c]=w[c])}return f}function h(w,l){if(w==null)return{};var c={};for(var d in w)if({}.hasOwnProperty.call(w,d)){if(l.indexOf(d)!==-1)continue;c[d]=w[d]}return c}function p(w,l){var c=Object.keys(w);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(w);l&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(w,f).enumerable})),c.push.apply(c,d)}return c}function x(w){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?p(Object(c),!0).forEach(function(d){v(w,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(d){Object.defineProperty(w,d,Object.getOwnPropertyDescriptor(c,d))})}return w}function v(w,l,c){return(l=D(l))in w?Object.defineProperty(w,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):w[l]=c,w}function D(w){var l=C(w,"string");return typeof l=="symbol"?l:l+""}function C(w,l){if(typeof w!="object"||!w)return w;var c=w[Symbol.toPrimitive];if(c!==void 0){var d=c.call(w,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(w)}let O=class extends e.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(l,c){const{minConstraints:d,maxConstraints:f,lockAspectRatio:y}=this.props;if(!d&&!f&&!y)return[l,c];if(y){const R=this.props.width/this.props.height,E=l-this.props.width,M=c-this.props.height;Math.abs(E)>Math.abs(M*R)?c=l/R:l=c*R}const[S,b]=[l,c];let[a,m]=this.slack||[0,0];return l+=a,c+=m,d&&(l=Math.max(d[0],l),c=Math.max(d[1],c)),f&&(l=Math.min(f[0],l),c=Math.min(f[1],c)),this.slack=[a+(S-l),m+(b-c)],[l,c]}resizeHandler(l,c){return(d,f)=>{var _;let{node:y,deltaX:S,deltaY:b}=f;l==="onResizeStart"&&this.resetData();const a=(this.props.axis==="both"||this.props.axis==="x")&&c!=="n"&&c!=="s",m=(this.props.axis==="both"||this.props.axis==="y")&&c!=="e"&&c!=="w";if(!a&&!m)return;const R=c[0],E=c[c.length-1],M=y.getBoundingClientRect();if(this.lastHandleRect!=null){if(E==="w"){const $=M.left-this.lastHandleRect.left;S+=$}if(R==="n"){const $=M.top-this.lastHandleRect.top;b+=$}}this.lastHandleRect=M,E==="w"&&(S=-S),R==="n"&&(b=-b);let N=this.props.width+(a?S/this.props.transformScale:0),T=this.props.height+(m?b/this.props.transformScale:0);[N,T]=this.runConstraints(N,T),l==="onResizeStop"&&this.lastSize&&({width:N,height:T}=this.lastSize);const k=N!==this.props.width||T!==this.props.height;l!=="onResizeStop"&&(this.lastSize={width:N,height:T});const P=typeof this.props[l]=="function"?this.props[l]:null;P&&!(l==="onResize"&&!k)&&((_=d.persist)==null||_.call(d),P(d,{node:y,size:{width:N,height:T},handle:c})),l==="onResizeStop"&&this.resetData()}}renderResizeHandle(l,c){const{handle:d}=this.props;if(!d)return e.createElement("span",{className:`react-resizable-handle react-resizable-handle-${l}`,ref:c});if(typeof d=="function")return d(l,c);const f=typeof d.type=="string",y=x({ref:c},f?{}:{handleAxis:l});return e.cloneElement(d,y)}render(){const l=this.props,{children:c,className:d,draggableOpts:f,width:y,height:S,handle:b,handleSize:a,lockAspectRatio:m,axis:R,minConstraints:E,maxConstraints:M,onResize:N,onResizeStop:T,onResizeStart:k,resizeHandles:P,transformScale:j}=l,_=u(l,o);return(0,n.cloneElement)(c,x(x({},_),{},{className:`${d?`${d} `:""}react-resizable`,children:[...e.Children.toArray(c.props.children),...P.map($=>{const B=this.handleRefs[$]??(this.handleRefs[$]=e.createRef());return e.createElement(t.DraggableCore,s({},f,{nodeRef:B,key:`resizableHandle-${$}`,onStop:this.resizeHandler("onResizeStop",$),onStart:this.resizeHandler("onResizeStart",$),onDrag:this.resizeHandler("onResize",$)}),this.renderResizeHandle($,B))})]}))}};return qe.default=O,O.propTypes=r.resizableProps,O.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},qe}var Ve={},$n;function Ei(){if($n)return Ve;$n=1,Ve.__esModule=!0,Ve.default=void 0;var e=s(lt()),t=i(jt()),n=i(pr()),r=hr();const o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(l){return l&&l.__esModule?l:{default:l}}function s(l,c){if(typeof WeakMap=="function")var d=new WeakMap,f=new WeakMap;return(s=function(y,S){if(!S&&y&&y.__esModule)return y;var b,a,m={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return m;if(b=S?f:d){if(b.has(y))return b.get(y);b.set(y,m)}for(const R in y)R!=="default"&&{}.hasOwnProperty.call(y,R)&&((a=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,R))&&(a.get||a.set)?b(m,R,a):m[R]=y[R]);return m})(l,c)}function u(){return u=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)({}).hasOwnProperty.call(d,f)&&(l[f]=d[f])}return l},u.apply(null,arguments)}function h(l,c){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);c&&(f=f.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),d.push.apply(d,f)}return d}function p(l){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?h(Object(d),!0).forEach(function(f){x(l,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):h(Object(d)).forEach(function(f){Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(d,f))})}return l}function x(l,c,d){return(c=v(c))in l?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d,l}function v(l){var c=D(l,"string");return typeof c=="symbol"?c:c+""}function D(l,c){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var f=d.call(l,c);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function C(l,c){if(l==null)return{};var d,f,y=O(l,c);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);for(f=0;f<S.length;f++)d=S[f],c.indexOf(d)===-1&&{}.propertyIsEnumerable.call(l,d)&&(y[d]=l[d])}return y}function O(l,c){if(l==null)return{};var d={};for(var f in l)if({}.hasOwnProperty.call(l,f)){if(c.indexOf(f)!==-1)continue;d[f]=l[f]}return d}let w=class extends e.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(c,d)=>{var y;const{size:f}=d;this.props.onResize?((y=c.persist)==null||y.call(c),this.setState(f,()=>this.props.onResize&&this.props.onResize(c,d))):this.setState(f)}}static getDerivedStateFromProps(c,d){return d.propsWidth!==c.width||d.propsHeight!==c.height?{width:c.width,height:c.height,propsWidth:c.width,propsHeight:c.height}:null}render(){const c=this.props,{handle:d,handleSize:f,onResize:y,onResizeStart:S,onResizeStop:b,draggableOpts:a,minConstraints:m,maxConstraints:R,lockAspectRatio:E,axis:M,width:N,height:T,resizeHandles:k,style:P,transformScale:j}=c,_=C(c,o);return e.createElement(n.default,{axis:M,draggableOpts:a,handle:d,handleSize:f,height:this.state.height,lockAspectRatio:E,maxConstraints:R,minConstraints:m,onResizeStart:S,onResize:this.onResize,onResizeStop:b,resizeHandles:k,transformScale:j,width:this.state.width},e.createElement("div",u({},_,{style:p(p({},P),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return Ve.default=w,w.propTypes=p(p({},r.resizableProps),{},{children:t.default.element}),Ve}var Hn;function Mi(){return Hn||(Hn=1,Be.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Be.exports.Resizable=pr().default,Be.exports.ResizableBox=Ei().default),Be.exports}var Pi=Mi();function ji(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ie(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function rn(e){return"nodeType"in e}function G(e){var t,n;return e?Ie(e)?e:rn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function on(e){const{Document:t}=G(e);return e instanceof t}function ut(e){return Ie(e)?!1:e instanceof G(e).HTMLElement}function gr(e){return e instanceof G(e).SVGElement}function _e(e){return e?Ie(e)?e.document:rn(e)?on(e)?e:ut(e)||gr(e)?e.ownerDocument:document:document:document}const de=Nt?g.useLayoutEffect:g.useEffect;function sn(e){const t=g.useRef(e);return de(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Ti(){const e=g.useRef(null),t=g.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function nt(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return de(()=>{n.current!==e&&(n.current=e)},t),n}function dt(e,t){const n=g.useRef();return g.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ot(e){const t=sn(e),n=g.useRef(null),r=g.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function Jt(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Xt={};function ft(e,t){return g.useMemo(()=>{if(t)return t;const n=Xt[e]==null?0:Xt[e]+1;return Xt[e]=n,e+"-"+n},[e,t])}function vr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const u=Object.entries(s);for(const[h,p]of u){const x=i[h];x!=null&&(i[h]=x+e*p)}return i},{...t})}}const Ae=vr(1),rt=vr(-1);function zi(e){return"clientX"in e&&"clientY"in e}function an(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function Ni(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function Qt(e){if(Ni(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return zi(e)?{x:e.clientX,y:e.clientY}:null}const ot=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ot.Translate.toString(e),ot.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Fn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ai(e){return e.matches(Fn)?e:e.querySelector(Fn)}const Ii={display:"none"};function _i(e){let{id:t,value:n}=e;return U.createElement("div",{id:t,style:Ii},n)}function ki(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return U.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Li(){const[e,t]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const mr=g.createContext(null);function Wi(e){const t=g.useContext(mr);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function $i(){const[e]=g.useState(()=>new Set),t=g.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[g.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var u;return(u=s[o])==null?void 0:u.call(s,i)})},[e]),t]}const Hi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Fi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Bi(e){let{announcements:t=Fi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Hi}=e;const{announce:i,announcement:s}=Li(),u=ft("DndLiveRegion"),[h,p]=g.useState(!1);if(g.useEffect(()=>{p(!0)},[]),Wi(g.useMemo(()=>({onDragStart(v){let{active:D}=v;i(t.onDragStart({active:D}))},onDragMove(v){let{active:D,over:C}=v;t.onDragMove&&i(t.onDragMove({active:D,over:C}))},onDragOver(v){let{active:D,over:C}=v;i(t.onDragOver({active:D,over:C}))},onDragEnd(v){let{active:D,over:C}=v;i(t.onDragEnd({active:D,over:C}))},onDragCancel(v){let{active:D,over:C}=v;i(t.onDragCancel({active:D,over:C}))}}),[i,t])),!h)return null;const x=U.createElement(U.Fragment,null,U.createElement(_i,{id:r,value:o.draggable}),U.createElement(ki,{id:u,announcement:s}));return n?Ke.createPortal(x,n):x}var X;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(X||(X={}));function Et(){}function Yt(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const se=Object.freeze({x:0,y:0});function br(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ui(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Bn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function wr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function qn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Xi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=qn(t,t.left,t.top),i=[];for(const s of r){const{id:u}=s,h=n.get(u);if(h){const p=br(qn(h),o);i.push({id:u,data:{droppableContainer:s,value:p}})}}return i.sort(yr)},Yi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Bn(t),i=[];for(const s of r){const{id:u}=s,h=n.get(u);if(h){const p=Bn(h),x=o.reduce((D,C,O)=>D+br(p[O],C),0),v=Number((x/4).toFixed(4));i.push({id:u,data:{droppableContainer:s,value:v}})}}return i.sort(yr)};function Vi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,u=i-n;if(r<o&&n<i){const h=t.width*t.height,p=e.width*e.height,x=s*u,v=x/(h+p-x);return Number(v.toFixed(4))}return 0}const Ki=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,u=n.get(s);if(u){const h=Vi(u,t);h>0&&o.push({id:s,data:{droppableContainer:i,value:h}})}}return o.sort(Ui)};function Gi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Sr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:se}function Ji(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,u)=>({...s,top:s.top+e*u.y,bottom:s.bottom+e*u.y,left:s.left+e*u.x,right:s.right+e*u.x}),{...n})}}const Qi=Ji(1);function Zi(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function es(e,t,n){const r=Zi(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:u}=r,h=e.left-s-(1-o)*parseFloat(n),p=e.top-u-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),x=o?e.width/o:e.width,v=i?e.height/i:e.height;return{width:x,height:v,top:p,right:h+x,bottom:p+v,left:h}}const ts={ignoreTransform:!1};function ke(e,t){t===void 0&&(t=ts);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:x}=G(e).getComputedStyle(e);p&&(n=es(n,p,x))}const{top:r,left:o,width:i,height:s,bottom:u,right:h}=n;return{top:r,left:o,width:i,height:s,bottom:u,right:h}}function Un(e){return ke(e,{ignoreTransform:!0})}function ns(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rs(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function os(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function At(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(on(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!ut(o)||gr(o)||n.includes(o))return n;const i=G(e).getComputedStyle(o);return o!==e&&os(o,i)&&n.push(o),rs(o,i)?n:r(o.parentNode)}return e?r(e):n}function xr(e){const[t]=At(e,1);return t??null}function Vt(e){return!Nt||!e?null:Ie(e)?e:rn(e)?on(e)||e===_e(e).scrollingElement?window:ut(e)?e:null:null}function Dr(e){return Ie(e)?e.scrollX:e.scrollLeft}function Cr(e){return Ie(e)?e.scrollY:e.scrollTop}function Zt(e){return{x:Dr(e),y:Cr(e)}}var Y;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Y||(Y={}));function Rr(e){return!Nt||!e?!1:e===document.scrollingElement}function Or(e){const t={x:0,y:0},n=Rr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:u,maxScroll:r,minScroll:t}}const is={x:.2,y:.2};function ss(e,t,n,r,o){let{top:i,left:s,right:u,bottom:h}=n;r===void 0&&(r=10),o===void 0&&(o=is);const{isTop:p,isBottom:x,isLeft:v,isRight:D}=Or(e),C={x:0,y:0},O={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!p&&i<=t.top+w.height?(C.y=Y.Backward,O.y=r*Math.abs((t.top+w.height-i)/w.height)):!x&&h>=t.bottom-w.height&&(C.y=Y.Forward,O.y=r*Math.abs((t.bottom-w.height-h)/w.height)),!D&&u>=t.right-w.width?(C.x=Y.Forward,O.x=r*Math.abs((t.right-w.width-u)/w.width)):!v&&s<=t.left+w.width&&(C.x=Y.Backward,O.x=r*Math.abs((t.left+w.width-s)/w.width)),{direction:C,speed:O}}function as(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Er(e){return e.reduce((t,n)=>Ae(t,Zt(n)),se)}function ls(e){return e.reduce((t,n)=>t+Dr(n),0)}function cs(e){return e.reduce((t,n)=>t+Cr(n),0)}function us(e,t){if(t===void 0&&(t=ke),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);xr(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ds=[["x",["left","right"],ls],["y",["top","bottom"],cs]];class ln{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=At(n),o=Er(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,u]of ds)for(const h of s)Object.defineProperty(this,h,{get:()=>{const p=u(r),x=o[i]-p;return this.rect[h]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qe{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function fs(e){const{EventTarget:t}=G(e);return e instanceof t?e:_e(e)}function Kt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ie;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ie||(ie={}));function Xn(e){e.preventDefault()}function hs(e){e.stopPropagation()}var I;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(I||(I={}));const Mr={start:[I.Space,I.Enter],cancel:[I.Esc],end:[I.Space,I.Enter,I.Tab]},ps=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case I.Right:return{...n,x:n.x+25};case I.Left:return{...n,x:n.x-25};case I.Down:return{...n,y:n.y+25};case I.Up:return{...n,y:n.y-25}}};class cn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Qe(_e(n)),this.windowListeners=new Qe(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ie.Resize,this.handleCancel),this.windowListeners.add(ie.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ie.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&us(r),n(se)}handleKeyDown(t){if(an(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Mr,coordinateGetter:s=ps,scrollBehavior:u="smooth"}=o,{code:h}=t;if(i.end.includes(h)){this.handleEnd(t);return}if(i.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:p}=r.current,x=p?{x:p.left,y:p.top}:se;this.referenceCoordinates||(this.referenceCoordinates=x);const v=s(t,{active:n,context:r.current,currentCoordinates:x});if(v){const D=rt(v,x),C={x:0,y:0},{scrollableAncestors:O}=r.current;for(const w of O){const l=t.code,{isTop:c,isRight:d,isLeft:f,isBottom:y,maxScroll:S,minScroll:b}=Or(w),a=as(w),m={x:Math.min(l===I.Right?a.right-a.width/2:a.right,Math.max(l===I.Right?a.left:a.left+a.width/2,v.x)),y:Math.min(l===I.Down?a.bottom-a.height/2:a.bottom,Math.max(l===I.Down?a.top:a.top+a.height/2,v.y))},R=l===I.Right&&!d||l===I.Left&&!f,E=l===I.Down&&!y||l===I.Up&&!c;if(R&&m.x!==v.x){const M=w.scrollLeft+D.x,N=l===I.Right&&M<=S.x||l===I.Left&&M>=b.x;if(N&&!D.y){w.scrollTo({left:M,behavior:u});return}N?C.x=w.scrollLeft-M:C.x=l===I.Right?w.scrollLeft-S.x:w.scrollLeft-b.x,C.x&&w.scrollBy({left:-C.x,behavior:u});break}else if(E&&m.y!==v.y){const M=w.scrollTop+D.y,N=l===I.Down&&M<=S.y||l===I.Up&&M>=b.y;if(N&&!D.x){w.scrollTo({top:M,behavior:u});return}N?C.y=w.scrollTop-M:C.y=l===I.Down?w.scrollTop-S.y:w.scrollTop-b.y,C.y&&w.scrollBy({top:-C.y,behavior:u});break}}this.handleMove(t,Ae(rt(v,this.referenceCoordinates),C))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Mr,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const u=i.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Yn(e){return!!(e&&"distance"in e)}function Vn(e){return!!(e&&"delay"in e)}class un{constructor(t,n,r){var o;r===void 0&&(r=fs(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=_e(s),this.documentListeners=new Qe(this.document),this.listeners=new Qe(r),this.windowListeners=new Qe(G(s)),this.initialCoordinates=(o=Qt(i))!=null?o:se,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ie.Resize,this.handleCancel),this.windowListeners.add(ie.DragStart,Xn),this.windowListeners.add(ie.VisibilityChange,this.handleCancel),this.windowListeners.add(ie.ContextMenu,Xn),this.documentListeners.add(ie.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Yn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ie.Click,hs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ie.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:u}}=i;if(!o)return;const h=(n=Qt(t))!=null?n:se,p=rt(o,h);if(!r&&u){if(Yn(u)){if(u.tolerance!=null&&Kt(p,u.tolerance))return this.handleCancel();if(Kt(p,u.distance))return this.handleStart()}if(Vn(u)&&Kt(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}t.cancelable&&t.preventDefault(),s(h)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===I.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const gs={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dn extends un{constructor(t){const{event:n}=t,r=_e(n.target);super(t,gs,r)}}dn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const vs={move:{name:"mousemove"},end:{name:"mouseup"}};var en;(function(e){e[e.RightClick=2]="RightClick"})(en||(en={}));class ms extends un{constructor(t){super(t,vs,_e(t.event.target))}}ms.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===en.RightClick?!1:(r==null||r({event:n}),!0)}}];const Gt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Pr extends un{constructor(t){super(t,Gt)}static setup(){return window.addEventListener(Gt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Gt.move.name,t)};function t(){}}}Pr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ze;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ze||(Ze={}));var Mt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Mt||(Mt={}));function bs(e){let{acceleration:t,activator:n=Ze.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:u=Mt.TreeOrder,pointerCoordinates:h,scrollableAncestors:p,scrollableAncestorRects:x,delta:v,threshold:D}=e;const C=ws({delta:v,disabled:!i}),[O,w]=Ti(),l=g.useRef({x:0,y:0}),c=g.useRef({x:0,y:0}),d=g.useMemo(()=>{switch(n){case Ze.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Ze.DraggableRect:return o}},[n,o,h]),f=g.useRef(null),y=g.useCallback(()=>{const b=f.current;if(!b)return;const a=l.current.x*c.current.x,m=l.current.y*c.current.y;b.scrollBy(a,m)},[]),S=g.useMemo(()=>u===Mt.TreeOrder?[...p].reverse():p,[u,p]);g.useEffect(()=>{if(!i||!p.length||!d){w();return}for(const b of S){if((r==null?void 0:r(b))===!1)continue;const a=p.indexOf(b),m=x[a];if(!m)continue;const{direction:R,speed:E}=ss(b,m,d,t,D);for(const M of["x","y"])C[M][R[M]]||(E[M]=0,R[M]=0);if(E.x>0||E.y>0){w(),f.current=b,O(y,s),l.current=E,c.current=R;return}}l.current={x:0,y:0},c.current={x:0,y:0},w()},[t,y,r,w,i,s,JSON.stringify(d),JSON.stringify(C),O,p,S,x,JSON.stringify(D)])}const ys={x:{[Y.Backward]:!1,[Y.Forward]:!1},y:{[Y.Backward]:!1,[Y.Forward]:!1}};function ws(e){let{delta:t,disabled:n}=e;const r=Jt(t);return dt(o=>{if(n||!r||!o)return ys;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Y.Backward]:o.x[Y.Backward]||i.x===-1,[Y.Forward]:o.x[Y.Forward]||i.x===1},y:{[Y.Backward]:o.y[Y.Backward]||i.y===-1,[Y.Forward]:o.y[Y.Forward]||i.y===1}}},[n,t,r])}function Ss(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return dt(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function xs(e,t){return g.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var it;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(it||(it={}));var tn;(function(e){e.Optimized="optimized"})(tn||(tn={}));const Kn=new Map;function Ds(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=g.useState(null),{frequency:u,measure:h,strategy:p}=o,x=g.useRef(e),v=l(),D=nt(v),C=g.useCallback(function(c){c===void 0&&(c=[]),!D.current&&s(d=>d===null?c:d.concat(c.filter(f=>!d.includes(f))))},[D]),O=g.useRef(null),w=dt(c=>{if(v&&!n)return Kn;if(!c||c===Kn||x.current!==e||i!=null){const d=new Map;for(let f of e){if(!f)continue;if(i&&i.length>0&&!i.includes(f.id)&&f.rect.current){d.set(f.id,f.rect.current);continue}const y=f.node.current,S=y?new ln(h(y),y):null;f.rect.current=S,S&&d.set(f.id,S)}return d}return c},[e,i,n,v,h]);return g.useEffect(()=>{x.current=e},[e]),g.useEffect(()=>{v||C()},[n,v]),g.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),g.useEffect(()=>{v||typeof u!="number"||O.current!==null||(O.current=setTimeout(()=>{C(),O.current=null},u))},[u,v,C,...r]),{droppableRects:w,measureDroppableContainers:C,measuringScheduled:i!=null};function l(){switch(p){case it.Always:return!1;case it.BeforeDragging:return n;default:return!n}}}function jr(e,t){return dt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Cs(e,t){return jr(e,t)}function Rs(e){let{callback:t,disabled:n}=e;const r=sn(t),o=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return g.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function It(e){let{callback:t,disabled:n}=e;const r=sn(t),o=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return g.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Os(e){return new ln(ke(e),e)}function Gn(e,t,n){t===void 0&&(t=Os);const[r,o]=g.useState(null);function i(){o(h=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=h??n)!=null?p:null}const x=t(e);return JSON.stringify(h)===JSON.stringify(x)?h:x})}const s=Rs({callback(h){if(e)for(const p of h){const{type:x,target:v}=p;if(x==="childList"&&v instanceof HTMLElement&&v.contains(e)){i();break}}}}),u=It({callback:i});return de(()=>{i(),e?(u==null||u.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),s==null||s.disconnect())},[e]),r}function Es(e){const t=jr(e);return Sr(e,t)}const Jn=[];function Ms(e){const t=g.useRef(e),n=dt(r=>e?r&&r!==Jn&&e&&t.current&&e.parentNode===t.current.parentNode?r:At(e):Jn,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function Ps(e){const[t,n]=g.useState(null),r=g.useRef(e),o=g.useCallback(i=>{const s=Vt(i.target);s&&n(u=>u?(u.set(s,Zt(s)),new Map(u)):null)},[]);return g.useEffect(()=>{const i=r.current;if(e!==i){s(i);const u=e.map(h=>{const p=Vt(h);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,Zt(p)]):null}).filter(h=>h!=null);n(u.length?new Map(u):null),r.current=e}return()=>{s(e),s(i)};function s(u){u.forEach(h=>{const p=Vt(h);p==null||p.removeEventListener("scroll",o)})}},[o,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Ae(i,s),se):Er(e):se,[e,t])}function Qn(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const r=e!==se;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?rt(e,n.current):se}function js(e){g.useEffect(()=>{if(!Nt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ts(e,t){return g.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Tr(e){return g.useMemo(()=>e?ns(e):null,[e])}const Zn=[];function zs(e,t){t===void 0&&(t=ke);const[n]=e,r=Tr(n?G(n):null),[o,i]=g.useState(Zn);function s(){i(()=>e.length?e.map(h=>Rr(h)?r:new ln(t(h),h)):Zn)}const u=It({callback:s});return de(()=>{u==null||u.disconnect(),s(),e.forEach(h=>u==null?void 0:u.observe(h))},[e]),o}function Ns(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ut(t)?t:e}function As(e){let{measure:t}=e;const[n,r]=g.useState(null),o=g.useCallback(p=>{for(const{target:x}of p)if(ut(x)){r(v=>{const D=t(x);return v?{...v,width:D.width,height:D.height}:D});break}},[t]),i=It({callback:o}),s=g.useCallback(p=>{const x=Ns(p);i==null||i.disconnect(),x&&(i==null||i.observe(x)),r(x?t(x):null)},[t,i]),[u,h]=Ot(s);return g.useMemo(()=>({nodeRef:u,rect:n,setRef:h}),[n,u,h])}const Is=[{sensor:dn,options:{}},{sensor:cn,options:{}}],_s={current:{}},Ct={draggable:{measure:Un},droppable:{measure:Un,strategy:it.WhileDragging,frequency:tn.Optimized},dragOverlay:{measure:ke}};class et extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ks={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new et,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Et},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ct,measureDroppableContainers:Et,windowRect:null,measuringScheduled:!1},Ls={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Et,draggableNodes:new Map,over:null,measureDroppableContainers:Et},_t=g.createContext(Ls),zr=g.createContext(ks);function Ws(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new et}}}function $s(e,t){switch(t.type){case X.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case X.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case X.DragEnd:case X.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case X.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new et(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case X.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new et(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case X.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new et(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Hs(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=g.useContext(_t),i=Jt(r),s=Jt(n==null?void 0:n.id);return g.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!an(i)||document.activeElement===i.target)return;const u=o.get(s);if(!u)return;const{activatorNode:h,node:p}=u;if(!h.current&&!p.current)return;requestAnimationFrame(()=>{for(const x of[h.current,p.current]){if(!x)continue;const v=Ai(x);if(v){v.focus();break}}})}},[r,t,o,s,i]),null}function Fs(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function Bs(e){return g.useMemo(()=>({draggable:{...Ct.draggable,...e==null?void 0:e.draggable},droppable:{...Ct.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ct.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function qs(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=g.useRef(!1),{x:s,y:u}=typeof o=="boolean"?{x:o,y:o}:o;de(()=>{if(!s&&!u||!t){i.current=!1;return}if(i.current||!r)return;const p=t==null?void 0:t.node.current;if(!p||p.isConnected===!1)return;const x=n(p),v=Sr(x,r);if(s||(v.x=0),u||(v.y=0),i.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const D=xr(p);D&&D.scrollBy({top:v.y,left:v.x})}},[t,s,u,r,n])}const Nr=g.createContext({...se,scaleX:1,scaleY:1});var Ce;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ce||(Ce={}));const Us=g.memo(function(t){var n,r,o,i;let{id:s,accessibility:u,autoScroll:h=!0,children:p,sensors:x=Is,collisionDetection:v=Ki,measuring:D,modifiers:C,...O}=t;const w=g.useReducer($s,void 0,Ws),[l,c]=w,[d,f]=$i(),[y,S]=g.useState(Ce.Uninitialized),b=y===Ce.Initialized,{draggable:{active:a,nodes:m,translate:R},droppable:{containers:E}}=l,M=a!=null?m.get(a):null,N=g.useRef({initial:null,translated:null}),T=g.useMemo(()=>{var K;return a!=null?{id:a,data:(K=M==null?void 0:M.data)!=null?K:_s,rect:N}:null},[a,M]),k=g.useRef(null),[P,j]=g.useState(null),[_,$]=g.useState(null),B=nt(O,Object.values(O)),Oe=ft("DndDescribedBy",s),A=g.useMemo(()=>E.getEnabled(),[E]),z=Bs(D),{droppableRects:H,measureDroppableContainers:J,measuringScheduled:ne}=Ds(A,{dragging:b,dependencies:[R.x,R.y],config:z.droppable}),re=Ss(m,a),ht=g.useMemo(()=>_?Qt(_):null,[_]),ve=Xr(),fe=Cs(re,z.draggable.measure);qs({activeNode:a!=null?m.get(a):null,config:ve.layoutShiftCompensation,initialRect:fe,measure:z.draggable.measure});const W=Gn(re,z.draggable.measure,fe),Le=Gn(re?re.parentElement:null),ae=g.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:m,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=E.getNodeFor((n=ae.current.over)==null?void 0:n.id),he=As({measure:z.dragOverlay.measure}),Me=(r=he.nodeRef.current)!=null?r:re,Pe=b?(o=he.rect)!=null?o:W:null,hn=!!(he.nodeRef.current&&he.rect),pn=Es(hn?null:W),kt=Tr(Me?G(Me):null),me=Ms(b?Ee??re:null),pt=zs(me),gt=Fs(C,{transform:{x:R.x-pn.x,y:R.y-pn.y,scaleX:1,scaleY:1},activatorEvent:_,active:T,activeNodeRect:W,containerNodeRect:Le,draggingNodeRect:Pe,over:ae.current.over,overlayNodeRect:he.rect,scrollableAncestors:me,scrollableAncestorRects:pt,windowRect:kt}),gn=ht?Ae(ht,R):null,vn=Ps(me),Wr=Qn(vn),$r=Qn(vn,[W]),je=Ae(gt,Wr),Te=Pe?Qi(Pe,gt):null,We=T&&Te?v({active:T,collisionRect:Te,droppableRects:H,droppableContainers:A,pointerCoordinates:gn}):null,mn=wr(We,"id"),[be,bn]=g.useState(null),Hr=hn?gt:Ae(gt,$r),Fr=Gi(Hr,(i=be==null?void 0:be.rect)!=null?i:null,W),Lt=g.useRef(null),yn=g.useCallback((K,Q)=>{let{sensor:Z,options:ye}=Q;if(k.current==null)return;const oe=m.get(k.current);if(!oe)return;const ee=K.nativeEvent,le=new Z({active:k.current,activeNode:oe,event:ee,options:ye,context:ae,onAbort(V){if(!m.get(V))return;const{onDragAbort:ce}=B.current,pe={id:V};ce==null||ce(pe),d({type:"onDragAbort",event:pe})},onPending(V,we,ce,pe){if(!m.get(V))return;const{onDragPending:He}=B.current,Se={id:V,constraint:we,initialCoordinates:ce,offset:pe};He==null||He(Se),d({type:"onDragPending",event:Se})},onStart(V){const we=k.current;if(we==null)return;const ce=m.get(we);if(!ce)return;const{onDragStart:pe}=B.current,$e={activatorEvent:ee,active:{id:we,data:ce.data,rect:N}};Ke.unstable_batchedUpdates(()=>{pe==null||pe($e),S(Ce.Initializing),c({type:X.DragStart,initialCoordinates:V,active:we}),d({type:"onDragStart",event:$e}),j(Lt.current),$(ee)})},onMove(V){c({type:X.DragMove,coordinates:V})},onEnd:ze(X.DragEnd),onCancel:ze(X.DragCancel)});Lt.current=le;function ze(V){return async function(){const{active:ce,collisions:pe,over:$e,scrollAdjustedTranslate:He}=ae.current;let Se=null;if(ce&&He){const{cancelDrop:Fe}=B.current;Se={activatorEvent:ee,active:ce,collisions:pe,delta:He,over:$e},V===X.DragEnd&&typeof Fe=="function"&&await Promise.resolve(Fe(Se))&&(V=X.DragCancel)}k.current=null,Ke.unstable_batchedUpdates(()=>{c({type:V}),S(Ce.Uninitialized),bn(null),j(null),$(null),Lt.current=null;const Fe=V===X.DragEnd?"onDragEnd":"onDragCancel";if(Se){const Wt=B.current[Fe];Wt==null||Wt(Se),d({type:Fe,event:Se})}})}}},[m]),Br=g.useCallback((K,Q)=>(Z,ye)=>{const oe=Z.nativeEvent,ee=m.get(ye);if(k.current!==null||!ee||oe.dndKit||oe.defaultPrevented)return;const le={active:ee};K(Z,Q.options,le)===!0&&(oe.dndKit={capturedBy:Q.sensor},k.current=ye,yn(Z,Q))},[m,yn]),wn=xs(x,Br);js(x),de(()=>{W&&y===Ce.Initializing&&S(Ce.Initialized)},[W,y]),g.useEffect(()=>{const{onDragMove:K}=B.current,{active:Q,activatorEvent:Z,collisions:ye,over:oe}=ae.current;if(!Q||!Z)return;const ee={active:Q,activatorEvent:Z,collisions:ye,delta:{x:je.x,y:je.y},over:oe};Ke.unstable_batchedUpdates(()=>{K==null||K(ee),d({type:"onDragMove",event:ee})})},[je.x,je.y]),g.useEffect(()=>{const{active:K,activatorEvent:Q,collisions:Z,droppableContainers:ye,scrollAdjustedTranslate:oe}=ae.current;if(!K||k.current==null||!Q||!oe)return;const{onDragOver:ee}=B.current,le=ye.get(mn),ze=le&&le.rect.current?{id:le.id,rect:le.rect.current,data:le.data,disabled:le.disabled}:null,V={active:K,activatorEvent:Q,collisions:Z,delta:{x:oe.x,y:oe.y},over:ze};Ke.unstable_batchedUpdates(()=>{bn(ze),ee==null||ee(V),d({type:"onDragOver",event:V})})},[mn]),de(()=>{ae.current={activatorEvent:_,active:T,activeNode:re,collisionRect:Te,collisions:We,droppableRects:H,draggableNodes:m,draggingNode:Me,draggingNodeRect:Pe,droppableContainers:E,over:be,scrollableAncestors:me,scrollAdjustedTranslate:je},N.current={initial:Pe,translated:Te}},[T,re,We,Te,m,Me,Pe,H,E,be,me,je]),bs({...ve,delta:R,draggingRect:Te,pointerCoordinates:gn,scrollableAncestors:me,scrollableAncestorRects:pt});const qr=g.useMemo(()=>({active:T,activeNode:re,activeNodeRect:W,activatorEvent:_,collisions:We,containerNodeRect:Le,dragOverlay:he,draggableNodes:m,droppableContainers:E,droppableRects:H,over:be,measureDroppableContainers:J,scrollableAncestors:me,scrollableAncestorRects:pt,measuringConfiguration:z,measuringScheduled:ne,windowRect:kt}),[T,re,W,_,We,Le,he,m,E,H,be,J,me,pt,z,ne,kt]),Ur=g.useMemo(()=>({activatorEvent:_,activators:wn,active:T,activeNodeRect:W,ariaDescribedById:{draggable:Oe},dispatch:c,draggableNodes:m,over:be,measureDroppableContainers:J}),[_,wn,T,W,c,Oe,m,be,J]);return U.createElement(mr.Provider,{value:f},U.createElement(_t.Provider,{value:Ur},U.createElement(zr.Provider,{value:qr},U.createElement(Nr.Provider,{value:Fr},p)),U.createElement(Hs,{disabled:(u==null?void 0:u.restoreFocus)===!1})),U.createElement(Bi,{...u,hiddenTextDescribedById:Oe}));function Xr(){const K=(P==null?void 0:P.autoScrollEnabled)===!1,Q=typeof h=="object"?h.enabled===!1:h===!1,Z=b&&!K&&!Q;return typeof h=="object"?{...h,enabled:Z}:{enabled:Z}}}),Xs=g.createContext(null),er="button",Ys="Draggable";function Vs(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=ft(Ys),{activators:s,activatorEvent:u,active:h,activeNodeRect:p,ariaDescribedById:x,draggableNodes:v,over:D}=g.useContext(_t),{role:C=er,roleDescription:O="draggable",tabIndex:w=0}=o??{},l=(h==null?void 0:h.id)===t,c=g.useContext(l?Nr:Xs),[d,f]=Ot(),[y,S]=Ot(),b=Ts(s,t),a=nt(n);de(()=>(v.set(t,{id:t,key:i,node:d,activatorNode:y,data:a}),()=>{const R=v.get(t);R&&R.key===i&&v.delete(t)}),[v,t]);const m=g.useMemo(()=>({role:C,tabIndex:w,"aria-disabled":r,"aria-pressed":l&&C===er?!0:void 0,"aria-roledescription":O,"aria-describedby":x.draggable}),[r,C,w,l,O,x.draggable]);return{active:h,activatorEvent:u,activeNodeRect:p,attributes:m,isDragging:l,listeners:r?void 0:b,node:d,over:D,setNodeRef:f,setActivatorNodeRef:S,transform:c}}function Ks(){return g.useContext(zr)}const Gs="Droppable",Js={timeout:25};function Qs(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=ft(Gs),{active:s,dispatch:u,over:h,measureDroppableContainers:p}=g.useContext(_t),x=g.useRef({disabled:n}),v=g.useRef(!1),D=g.useRef(null),C=g.useRef(null),{disabled:O,updateMeasurementsFor:w,timeout:l}={...Js,...o},c=nt(w??r),d=g.useCallback(()=>{if(!v.current){v.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{p(Array.isArray(c.current)?c.current:[c.current]),C.current=null},l)},[l]),f=It({callback:d,disabled:O||!s}),y=g.useCallback((m,R)=>{f&&(R&&(f.unobserve(R),v.current=!1),m&&f.observe(m))},[f]),[S,b]=Ot(y),a=nt(t);return g.useEffect(()=>{!f||!S.current||(f.disconnect(),v.current=!1,f.observe(S.current))},[S,f]),g.useEffect(()=>(u({type:X.RegisterDroppable,element:{id:r,key:i,disabled:n,node:S,rect:D,data:a}}),()=>u({type:X.UnregisterDroppable,key:i,id:r})),[r]),g.useEffect(()=>{n!==x.current.disabled&&(u({type:X.SetDroppableDisabled,id:r,key:i,disabled:n}),x.current.disabled=n)},[r,i,n,u]),{active:s,rect:D,isOver:(h==null?void 0:h.id)===r,node:S,over:h,setNodeRef:b}}function fn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Zs(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function St(e){return e!==null&&e>=0}function ea(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ta(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ar=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=fn(t,r,n),s=t[o],u=i[o];return!u||!s?null:{x:u.left-s.left,y:u.top-s.top,scaleX:u.width/s.width,scaleY:u.height/s.height}},xt={scaleX:1,scaleY:1},na=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const u=(t=i[n])!=null?t:r;if(!u)return null;if(o===n){const p=i[s];return p?{x:0,y:n<s?p.top+p.height-(u.top+u.height):p.top-u.top,...xt}:null}const h=ra(i,o,n);return o>n&&o<=s?{x:0,y:-u.height-h,...xt}:o<n&&o>=s?{x:0,y:u.height+h,...xt}:{x:0,y:0,...xt}};function ra(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Ir="Sortable",_r=U.createContext({activeIndex:-1,containerId:Ir,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ar,disabled:{draggable:!1,droppable:!1}});function oa(e){let{children:t,id:n,items:r,strategy:o=Ar,disabled:i=!1}=e;const{active:s,dragOverlay:u,droppableRects:h,over:p,measureDroppableContainers:x}=Ks(),v=ft(Ir,n),D=u.rect!==null,C=g.useMemo(()=>r.map(b=>typeof b=="object"&&"id"in b?b.id:b),[r]),O=s!=null,w=s?C.indexOf(s.id):-1,l=p?C.indexOf(p.id):-1,c=g.useRef(C),d=!ea(C,c.current),f=l!==-1&&w===-1||d,y=ta(i);de(()=>{d&&O&&x(C)},[d,C,O,x]),g.useEffect(()=>{c.current=C},[C]);const S=g.useMemo(()=>({activeIndex:w,containerId:v,disabled:y,disableTransforms:f,items:C,overIndex:l,useDragOverlay:D,sortedRects:Zs(C,h),strategy:o}),[w,v,y.draggable,y.droppable,f,C,l,h,D,o]);return U.createElement(_r.Provider,{value:S},t)}const ia=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return fn(n,r,o).indexOf(t)},sa=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:u,previousContainerId:h,transition:p}=e;return!p||!r||u!==i&&o===s?!1:n?!0:s!==o&&t===h},aa={duration:200,easing:"ease"},kr="transform",la=ot.Transition.toString({property:kr,duration:0,easing:"linear"}),ca={roleDescription:"sortable"};function ua(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=g.useState(null),u=g.useRef(n);return de(()=>{if(!t&&n!==u.current&&r.current){const h=o.current;if(h){const p=ke(r.current,{ignoreTransform:!0}),x={x:h.left-p.left,y:h.top-p.top,scaleX:h.width/p.width,scaleY:h.height/p.height};(x.x||x.y)&&s(x)}}n!==u.current&&(u.current=n)},[t,n,r,o]),g.useEffect(()=>{i&&s(null)},[i]),i}function da(e){let{animateLayoutChanges:t=sa,attributes:n,disabled:r,data:o,getNewIndex:i=ia,id:s,strategy:u,resizeObserverConfig:h,transition:p=aa}=e;const{items:x,containerId:v,activeIndex:D,disabled:C,disableTransforms:O,sortedRects:w,overIndex:l,useDragOverlay:c,strategy:d}=g.useContext(_r),f=fa(r,C),y=x.indexOf(s),S=g.useMemo(()=>({sortable:{containerId:v,index:y,items:x},...o}),[v,o,y,x]),b=g.useMemo(()=>x.slice(x.indexOf(s)),[x,s]),{rect:a,node:m,isOver:R,setNodeRef:E}=Qs({id:s,data:S,disabled:f.droppable,resizeObserverConfig:{updateMeasurementsFor:b,...h}}),{active:M,activatorEvent:N,activeNodeRect:T,attributes:k,setNodeRef:P,listeners:j,isDragging:_,over:$,setActivatorNodeRef:B,transform:Oe}=Vs({id:s,data:S,attributes:{...ca,...n},disabled:f.draggable}),A=ji(E,P),z=!!M,H=z&&!O&&St(D)&&St(l),J=!c&&_,ne=J&&H?Oe:null,ht=H?ne??(u??d)({rects:w,activeNodeRect:T,activeIndex:D,overIndex:l,index:y}):null,ve=St(D)&&St(l)?i({id:s,items:x,activeIndex:D,overIndex:l}):y,fe=M==null?void 0:M.id,W=g.useRef({activeId:fe,items:x,newIndex:ve,containerId:v}),Le=x!==W.current.items,ae=t({active:M,containerId:v,isDragging:_,isSorting:z,id:s,index:y,items:x,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:p,wasDragging:W.current.activeId!=null}),Ee=ua({disabled:!ae,index:y,node:m,rect:a});return g.useEffect(()=>{z&&W.current.newIndex!==ve&&(W.current.newIndex=ve),v!==W.current.containerId&&(W.current.containerId=v),x!==W.current.items&&(W.current.items=x)},[z,ve,v,x]),g.useEffect(()=>{if(fe===W.current.activeId)return;if(fe!=null&&W.current.activeId==null){W.current.activeId=fe;return}const Me=setTimeout(()=>{W.current.activeId=fe},50);return()=>clearTimeout(Me)},[fe]),{active:M,activeIndex:D,attributes:k,data:S,rect:a,index:y,newIndex:ve,items:x,isOver:R,isSorting:z,isDragging:_,listeners:j,node:m,overIndex:l,over:$,setNodeRef:A,setActivatorNodeRef:B,setDroppableNodeRef:E,setDraggableNodeRef:P,transform:Ee??ht,transition:he()};function he(){if(Ee||Le&&W.current.newIndex===y)return la;if(!(J&&!an(N)||!p)&&(z||ae))return ot.Transition.toString({...p,property:kr})}}function fa(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Pt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const ha=[I.Down,I.Right,I.Up,I.Left],pa=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:u}}=t;if(ha.includes(e.code)){if(e.preventDefault(),!n||!r)return;const h=[];i.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const D=o.get(v.id);if(D)switch(e.code){case I.Down:r.top<D.top&&h.push(v);break;case I.Up:r.top>D.top&&h.push(v);break;case I.Left:r.left>D.left&&h.push(v);break;case I.Right:r.left<D.left&&h.push(v);break}});const p=Yi({collisionRect:r,droppableRects:o,droppableContainers:h});let x=wr(p,"id");if(x===(s==null?void 0:s.id)&&p.length>1&&(x=p[1].id),x!=null){const v=i.get(n.id),D=i.get(x),C=D?o.get(D.id):null,O=D==null?void 0:D.node.current;if(O&&C&&v&&D){const l=At(O).some((b,a)=>u[a]!==b),c=Lr(v,D),d=ga(v,D),f=l||!c?{x:0,y:0}:{x:d?r.width-C.width:0,y:d?r.height-C.height:0},y={x:C.left,y:C.top};return f.x&&f.y?y:rt(y,f)}}}};function Lr(e,t){return!Pt(e)||!Pt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ga(e,t){return!Pt(e)||!Pt(t)||!Lr(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const{Text:Dt}=Vr,va=e=>{const{onResize:t,width:n,...r}=e;return n?L.jsx(Pi.Resizable,{width:n,height:0,handle:L.jsx("span",{className:"react-resizable-handle",onClick:o=>o.stopPropagation()}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:L.jsx("th",{...r})}):L.jsx("th",{...r})},ma=e=>{const{id:t,label:n,checked:r,onToggle:o,token:i}=e,{attributes:s,listeners:u,setNodeRef:h,transform:p,transition:x,isDragging:v}=da({id:t}),D={transform:ot.Transform.toString(p),transition:x,opacity:v?.5:1,padding:"8px 12px",borderBottom:`1px solid ${i.colorBorderSecondary}`,display:"flex",alignItems:"center",gap:8,backgroundColor:v?i.colorBgTextHover:i.colorBgContainer,cursor:"move"};return L.jsxs("div",{ref:h,style:D,children:[L.jsx("span",{...s,...u,style:{cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px 8px",minWidth:32,touchAction:"none"},children:L.jsx(co,{style:{fontSize:16,color:i.colorTextTertiary}})}),L.jsx(to,{checked:r,onChange:()=>o(t),style:{flex:1},children:n})]})},Pa=({tableData:e,fileId:t,token:n})=>{const[r,o]=g.useState(""),i=g.useRef(null),s=g.useMemo(()=>e.length>0?Object.keys(e[0]):[],[e]),{selectedColumns:u,columnOrder:h,columnWidths:p,updateSelectedColumns:x,updateColumnOrder:v,updateColumnWidth:D,resetToDefaults:C}=Si(t,s),O=g.useMemo(()=>{if(h.length===0)return s;const b=new Set(s),a=h.filter(R=>b.has(R)),m=s.filter(R=>!h.includes(R));return[...a,...m]},[s,h]),w=g.useMemo(()=>O.filter(b=>u.includes(b)),[O,u]),l=qi(Yt(dn,{activationConstraint:{distance:8}}),Yt(Pr,{activationConstraint:{delay:200,tolerance:8}}),Yt(cn,{coordinateGetter:pa})),c=g.useCallback(b=>(a,{size:m})=>{D(b,m.width)},[D]),d=g.useCallback(b=>{const a=u.includes(b)?u.filter(m=>m!==b):[...u,b];x(a)},[u,x]),f=b=>{const{active:a,over:m}=b;if(m&&a.id!==m.id){const R=O.indexOf(a.id),E=O.indexOf(m.id),M=fn(O,R,E);v(M)}},y=g.useMemo(()=>w.map(b=>({title:b,dataIndex:b,key:b,width:p[b]||150,sorter:(a,m)=>{const R=String(a[b]||""),E=String(m[b]||"");return R.localeCompare(E)},render:a=>a==null?L.jsx(Dt,{type:"secondary",children:"null"}):typeof a=="object"?L.jsx(Dt,{type:"secondary",children:JSON.stringify(a)}):String(a),onHeaderCell:()=>({width:p[b]||150,onResize:c(b)})})),[w,p,c]);if(e.length===0)return L.jsx(Sn,{description:"No data available"});if(s.length===0)return L.jsx(Sn,{description:"Data cannot be displayed as table. Use Object Tree View instead."});const S=b=>r?b.filter(a=>{console.log("Row:",a);for(const m in a){const R=a[m];if(R!=null&&String(R).toLowerCase().includes(r.toLowerCase()))return!0}return!1}):b;return L.jsxs($t,{orientation:"vertical",style:{width:"100%"},size:"middle",children:[L.jsx("div",{style:{display:"flex"},children:L.jsx(Qr,{placeholder:"Search all columns...",prefix:L.jsx(Zr,{}),value:r,onChange:b=>o(b.target.value),allowClear:!0,style:{maxWidth:400}})}),L.jsx("div",{ref:i,children:L.jsx(eo,{components:{header:{cell:va}},dataSource:S(e),columns:y,rowKey:(b,a)=>a||0,pagination:{pageSize:20,showSizeChanger:!1,showTotal:b=>`Total ${b} rows`},scroll:{x:"max-content"},size:"small"})}),L.jsx(Gr,{size:"small",title:L.jsxs($t,{style:{width:"100%",justifyContent:"space-between"},children:[L.jsx(Dt,{children:"Column Selection & Ordering"}),L.jsxs($t,{children:[L.jsxs(Dt,{type:"secondary",children:[u.length," of ",s.length," selected"]}),L.jsx(Kr,{size:"small",onClick:C,children:"Reset Defaults"})]})]}),children:L.jsx("div",{style:{maxHeight:300,overflowY:"auto",border:`1px solid ${n.colorBorder}`,borderRadius:4},children:L.jsx(Us,{sensors:l,collisionDetection:Xi,onDragEnd:f,children:L.jsx(oa,{items:O,strategy:na,children:O.map(b=>L.jsx(ma,{id:b,label:b,checked:u.includes(b),onToggle:d,token:n},b))})})})}),L.jsx("style",{children:`
        .react-resizable {
          position: relative;
          background-clip: padding-box;
        }

        .react-resizable-handle {
          position: absolute;
          right: -5px;
          bottom: 0;
          z-index: 1;
          width: 10px;
          height: 100%;
          cursor: col-resize;
        }
      `})]})};export{Ra as F,xa as R,Pa as T,Sa as a,Da as b,Ca as c,Si as u};
