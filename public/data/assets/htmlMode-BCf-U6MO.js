import{c as D,l as t}from"./PythonAnalyser-CRt9LQp4.js";import{H as d,D as l,h as m,F as c,b as u,S as h,c as p,f as w,g as _,C as R}from"./lspLanguageFeatures-ch9EXb5U.js";import{a as N,e as z,d as G,R as J,i as K,j as Q,t as V,k as X}from"./lspLanguageFeatures-ch9EXb5U.js";import"./index-DzaOA67_.js";import"./index-sNGHL25X.js";import"./fileValidation-AnOVqnKf.js";import"./SearchOutlined-bdrymOyE.js";import"./TableView-CUoyUihp.js";import"./ObjectTreeView-p9lgLxP1.js";import"./CheckCircleOutlined-Dy24CADW.js";import"./index-8s_YyauR.js";import"./index-CMw1GDUG.js";import"./ReloadOutlined-CF9CRRUS.js";import"./index-C7hRAURT.js";import"./tslib.es6-DBPwE56R.js";const I=120*1e3;class f{constructor(o){this._defaults=o,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>I&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=D({moduleId:"vs/language/html/htmlWorker",createWorker:()=>new Worker(new URL(""+new URL("html.worker-4BlL5qLP.js",import.meta.url).href,import.meta.url),{type:"module"}),createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...o){let e;return this._getClient().then(r=>{e=r}).then(r=>{if(this._worker)return this._worker.withSyncedResources(o)}).then(r=>e)}}class v extends R{constructor(o){super(o,[".",":","<",'"',"=","/"])}}function j(i){const o=new f(i),e=(...n)=>o.getLanguageServiceWorker(...n);let r=i.languageId;t.registerCompletionItemProvider(r,new v(e)),t.registerHoverProvider(r,new d(e)),t.registerDocumentHighlightProvider(r,new l(e)),t.registerLinkProvider(r,new m(e)),t.registerFoldingRangeProvider(r,new c(e)),t.registerDocumentSymbolProvider(r,new u(e)),t.registerSelectionRangeProvider(r,new h(e)),t.registerRenameProvider(r,new p(e)),r==="html"&&(t.registerDocumentFormattingEditProvider(r,new w(e)),t.registerDocumentRangeFormattingEditProvider(r,new _(e)))}function O(i){const o=[],e=[],r=new f(i);o.push(r);const n=(...s)=>r.getLanguageServiceWorker(...s);function P(){const{languageId:s,modeConfiguration:a}=i;k(e),a.completionItems&&e.push(t.registerCompletionItemProvider(s,new v(n))),a.hovers&&e.push(t.registerHoverProvider(s,new d(n))),a.documentHighlights&&e.push(t.registerDocumentHighlightProvider(s,new l(n))),a.links&&e.push(t.registerLinkProvider(s,new m(n))),a.documentSymbols&&e.push(t.registerDocumentSymbolProvider(s,new u(n))),a.rename&&e.push(t.registerRenameProvider(s,new p(n))),a.foldingRanges&&e.push(t.registerFoldingRangeProvider(s,new c(n))),a.selectionRanges&&e.push(t.registerSelectionRangeProvider(s,new h(n))),a.documentFormattingEdits&&e.push(t.registerDocumentFormattingEditProvider(s,new w(n))),a.documentRangeFormattingEdits&&e.push(t.registerDocumentRangeFormattingEditProvider(s,new _(n)))}return P(),o.push(g(e)),g(o)}function g(i){return{dispose:()=>k(i)}}function k(i){for(;i.length;)i.pop().dispose()}export{R as CompletionAdapter,N as DefinitionAdapter,z as DiagnosticsAdapter,G as DocumentColorAdapter,w as DocumentFormattingEditProvider,l as DocumentHighlightAdapter,m as DocumentLinkAdapter,_ as DocumentRangeFormattingEditProvider,u as DocumentSymbolAdapter,c as FoldingRangeAdapter,d as HoverAdapter,J as ReferenceAdapter,p as RenameAdapter,h as SelectionRangeAdapter,f as WorkerManager,K as fromPosition,Q as fromRange,O as setupMode,j as setupMode1,V as toRange,X as toTextEdit};
